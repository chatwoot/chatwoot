(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{2875:function(t,e,o){},3147:function(t,e,o){"use strict";o(2875)},3365:function(t,e,o){"use strict";o.r(e);o(10),o(4),o(8),o(11),o(9),o(12),o(7),o(22),o(30);var n=o(25),a=o(57),r=o(79);function s(t,e,o,n,a,r,s){try{var i=t[r](s),p=i.value}catch(l){return void o(l)}i.done?e(p):Promise.resolve(p).then(n,a)}var i={mixins:[r.a],props:{show:{type:Boolean,default:!1},mode:{type:String,default:"create"},selectedAppData:{type:Object,default:function(){return{}}}},validations:{app:{title:{required:a.required},content:{type:{required:a.required},url:{required:a.required,url:a.url}}}},data:function(){return{isLoading:!1,app:{title:"",content:{type:"frame",url:""}}}},computed:{header:function(){return this.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.".concat(this.mode,".HEADER"))},submitButtonLabel:function(){return this.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.".concat(this.mode,".FORM_SUBMIT"))}},mounted:function(){"UPDATE"===this.mode&&this.selectedAppData&&(this.app.title=this.selectedAppData.title,this.app.content=this.selectedAppData.content[0])},methods:{closeModal:function(){this.app={title:"",content:{type:"frame",url:""}},this.$emit("close")},submit:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.$touch(),!e.$v.$invalid){t.next=4;break}return t.abrupt("return");case 4:return o=e.mode.toLowerCase(),n={title:e.app.title,content:[e.app.content]},"update"===o&&(n.id=e.selectedAppData.id),e.isLoading=!0,t.next=10,e.$store.dispatch("dashboardApps/".concat(o),n);case 10:e.showAlert(e.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.".concat(e.mode,".API_SUCCESS"))),e.closeModal(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e.showAlert(e.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.".concat(e.mode,".API_ERROR")));case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})),function(){var e=this,o=arguments;return new Promise((function(n,a){var r=t.apply(e,o);function i(t){s(r,n,a,i,p,"next",t)}function p(t){s(r,n,a,i,p,"throw",t)}i(void 0)}))})()}}},p=i,l=o(5),c=Object(l.a)(p,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.closeModal}},[e("div",{staticClass:"h-auto overflow-auto flex flex-col"},[e("woot-modal-header",{attrs:{"header-title":t.header}}),t._v(" "),e("form",{staticClass:"mx-0 flex flex-wrap",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("woot-input",{staticClass:"w-full",class:{error:t.$v.app.title.$error},attrs:{label:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.TITLE_LABEL"),placeholder:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.TITLE_PLACEHOLDER"),error:t.$v.app.title.$error?t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.TITLE_ERROR"):null,"data-testid":"app-title"},on:{input:t.$v.app.title.$touch},model:{value:t.app.title,callback:function(e){t.$set(t.app,"title","string"===typeof e?e.trim():e)},expression:"app.title"}}),t._v(" "),e("woot-input",{staticClass:"w-full",class:{error:t.$v.app.content.url.$error},attrs:{label:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.URL_LABEL"),placeholder:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.URL_PLACEHOLDER"),error:t.$v.app.content.url.$error?t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.FORM.URL_ERROR"):null,"data-testid":"app-url"},on:{input:t.$v.app.content.url.$touch},model:{value:t.app.content.url,callback:function(e){t.$set(t.app.content,"url","string"===typeof e?e.trim():e)},expression:"app.content.url"}}),t._v(" "),e("div",{staticClass:"flex flex-row justify-end gap-2 py-2 px-0 w-full"},[e("woot-button",{attrs:{"is-loading":t.isLoading,"is-disabled":t.$v.$invalid,"data-testid":"label-submit"}},[t._v("\n          "+t._s(t.submitButtonLabel)+"\n        ")]),t._v(" "),e("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.CREATE.FORM_CANCEL"))+"\n        ")])],1)],1)],1)])}),[],!1,null,null,null),u=c.exports,d={loading:{type:Boolean,default:!1},props:{app:{type:Object,default:function(){return{}}}}},A=(o(3147),Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("\n    "+t._s(t.app.title)+"\n  ")]),t._v(" "),e("td",{staticClass:"dashboard-app-label-url"},[e("span",{staticClass:"overflow-hidden whitespace-nowrap text-ellipsis"},[t._v("\n      "+t._s(t.app.content[0].url)+"\n    ")])]),t._v(" "),e("td",{staticClass:"button-wrapper"},[e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.EDIT_TOOLTIP"),expression:"\n        $t('INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.EDIT_TOOLTIP')\n      ",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary","class-names":"grey-btn",icon:"edit"},on:{click:function(e){return t.$emit("edit",t.app)}}}),t._v(" "),e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.DELETE_TOOLTIP"),expression:"\n        $t('INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.DELETE_TOOLTIP')\n      ",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn"},on:{click:function(e){return t.$emit("delete",t.app)}}})],1)])}),[],!1,null,"034c9eb9",null).exports),T=o(220);function S(t,e,o,n,a,r,s){try{var i=t[r](s),p=i.value}catch(l){return void o(l)}i.done?e(p):Promise.resolve(p).then(n,a)}function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var E={components:{DashboardAppModal:u,DashboardAppsRow:A},mixins:[r.a,T.a],data:function(){return{loading:{},showDashboardAppPopup:!1,showDeleteConfirmationPopup:!1,selectedApp:{},mode:"CREATE"}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){f(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(n.mapGetters)({globalConfig:"globalConfig/get",records:"dashboardApps/getRecords",uiFlags:"dashboardApps/getUIFlags"})),mounted:function(){this.$store.dispatch("dashboardApps/get")},methods:{toggleDashboardAppPopup:function(){this.showDashboardAppPopup=!this.showDashboardAppPopup,this.selectedApp={}},openDeletePopup:function(t){this.showDeleteConfirmationPopup=!0,this.selectedApp=t},openCreatePopup:function(){this.mode="CREATE",this.selectedApp={},this.showDashboardAppPopup=!0},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},editApp:function(t){this.loading[t.id]=!0,this.mode="UPDATE",this.selectedApp=t,this.showDashboardAppPopup=!0},confirmDeletion:function(){this.loading[this.selectedApp.id]=!0,this.closeDeletePopup(),this.deleteApp(this.selectedApp.id)},deleteApp:function(t){var e,o=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.$store.dispatch("dashboardApps/delete",t);case 3:o.showAlert(o.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.API_SUCCESS")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.showAlert(o.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.API_ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,o=arguments;return new Promise((function(n,a){var r=e.apply(t,o);function s(t){S(r,n,a,s,i,"next",t)}function i(t){S(r,n,a,s,i,"throw",t)}s(void 0)}))})()}}},_=E,I=Object(l.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-1 overflow-auto p-4"},[e("woot-button",{attrs:{"color-scheme":"success","class-names":"button--fixed-top",icon:"add-circle"},on:{click:t.openCreatePopup}},[t._v("\n    "+t._s(t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.HEADER_BTN_TXT"))+"\n  ")]),t._v(" "),e("div",{staticClass:"flex flex-row gap-4"},[e("div",{staticClass:"w-[60%]"},[t.uiFlags.isFetching||t.records.length?t._e():e("p",{staticClass:"flex h-full items-center flex-col justify-center"},[t._v("\n        "+t._s(t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.404"))+"\n      ")]),t._v(" "),t.uiFlags.isFetching?e("woot-loading-state",{attrs:{message:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.LOADING")}}):t._e(),t._v(" "),!t.uiFlags.isFetching&&t.records.length?e("table",{staticClass:"woot-table"},[e("thead",t._l(t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.LIST.TABLE_HEADER"),(function(o){return e("th",{key:o},[t._v("\n            "+t._s(o)+"\n          ")])})),0),t._v(" "),e("tbody",t._l(t.records,(function(o,n){return e("dashboard-apps-row",{key:o.id,attrs:{index:n,app:o},on:{edit:t.editApp,delete:t.openDeletePopup}})})),1)]):t._e()],1),t._v(" "),e("div",{staticClass:"w-[34%]"},[e("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.useInstallationName(t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.SIDEBAR_TXT"),t.globalConfig.installationName),expression:"\n          useInstallationName(\n            $t('INTEGRATION_SETTINGS.DASHBOARD_APPS.SIDEBAR_TXT'),\n            globalConfig.installationName\n          )\n        "}]})])]),t._v(" "),t.showDashboardAppPopup?e("dashboard-app-modal",{attrs:{show:t.showDashboardAppPopup,mode:t.mode,"selected-app-data":t.selectedApp},on:{close:t.toggleDashboardAppPopup}}):t._e(),t._v(" "),e("woot-delete-modal",{attrs:{show:t.showDeleteConfirmationPopup,"on-close":t.closeDeletePopup,"on-confirm":t.confirmDeletion,title:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.TITLE"),message:t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.MESSAGE",{appName:t.selectedApp.title}),"confirm-text":t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.CONFIRM_YES"),"reject-text":t.$t("INTEGRATION_SETTINGS.DASHBOARD_APPS.DELETE.CONFIRM_NO")},on:{"update:show":function(e){t.showDeleteConfirmationPopup=e}}})],1)}),[],!1,null,null,null);e.default=I.exports}}]);
//# sourceMappingURL=88-8427e89c28fd0c23c38d.chunk.js.map