{"version":3,"sources":["webpack:///./app/javascript/shared/components/emoji/EmojiInput.vue?8a73","webpack:///./app/javascript/shared/components/emoji/EmojiInput.vue?81eb","webpack:///./app/javascript/shared/components/emoji/EmojiInput.vue?685f","webpack:///app/javascript/shared/components/emoji/EmojiInput.vue","webpack:///./app/javascript/shared/components/emoji/EmojiInput.vue?1d7d","webpack:///./app/javascript/shared/components/emoji/EmojiInput.vue"],"names":["component","_vm","this","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","ref","$t","domProps","on","$event","target","composing","search","_v","onClick","_s","_e","selectedKey","_l","item","key","slug","emoji","category","emojis","length","class","active","changeCategory","getFirstEmojiByCategoryName"],"mappings":"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","file":"js/9-a7a1f74bc5926c279fe2.chunk.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--2-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--2-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiInput.vue?vue&type=style&index=0&id=77fc14a1&prod&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiInput.vue?vue&type=style&index=1&id=77fc14a1&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"emoji-dialog bg-white shadow-lg dark:bg-slate-900 rounded-md border border-solid border-slate-75 dark:border-slate-800/50 box-content h-[300px] absolute right-0 -top-[95px] w-80 z-20\",attrs:{\"role\":\"dialog\"}},[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"emoji-search--wrap flex gap-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchbar\",staticClass:\"emoji-search--input focus:box-shadow-blue dark:focus:box-shadow-dark\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('EMOJI.PLACEHOLDER')},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_vm._v(\" \"),(_vm.showRemoveButton)?_c('woot-button',{staticClass:\"dark:!bg-slate-800 dark:!hover:bg-slate-700\",attrs:{\"size\":\"small\",\"variant\":\"smooth\",\"color-scheme\":\"secondary\"},on:{\"click\":function($event){return _vm.onClick('')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('EMOJI.REMOVE'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),(_vm.hasNoSearch)?_c('div',{ref:\"emojiItem\",staticClass:\"emoji-item\"},[_c('h5',{staticClass:\"emoji-category--title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.selectedKey)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"emoji--row\"},_vm._l((_vm.filterEmojisByCategory),function(item){return _c('button',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(item.emoji),expression:\"item.emoji\"}],key:item.slug,staticClass:\"emoji--item\",attrs:{\"track-by\":\"$index\"},on:{\"click\":function($event){return _vm.onClick(item.emoji)}}})}),0)]):_c('div',{ref:\"emojiItem\",staticClass:\"emoji-item\"},[_vm._l((_vm.filterAllEmojisBySearch),function(category){return _c('div',{key:category.slug},[(category.emojis.length > 0)?_c('h5',{staticClass:\"emoji-category--title\"},[_vm._v(\"\\n          \"+_vm._s(category.name)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(category.emojis.length > 0)?_c('div',{staticClass:\"emoji--row\"},_vm._l((category.emojis),function(item){return _c('button',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(item.emoji),expression:\"item.emoji\"}],key:item.slug,staticClass:\"emoji--item\",attrs:{\"track-by\":\"$index\"},on:{\"click\":function($event){return _vm.onClick(item.emoji)}}})}),0):_vm._e()])}),_vm._v(\" \"),(_vm.hasEmptySearchResult)?_c('div',{staticClass:\"empty-message\"},[_c('div',{staticClass:\"emoji-icon\"},[_c('fluent-icon',{attrs:{\"icon\":\"emoji\",\"size\":\"48\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"empty-message--text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('EMOJI.NOT_FOUND'))+\"\\n        \")])]):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"emoji-dialog--footer\",attrs:{\"role\":\"menu\"}},[_c('ul',[_c('li',[_c('button',{staticClass:\"emoji--item\",class:{ active: _vm.selectedKey === 'Search' },on:{\"click\":function($event){return _vm.changeCategory('Search')}}},[_c('fluent-icon',{staticClass:\"text-slate-700 dark:text-slate-100\",attrs:{\"icon\":\"search\",\"size\":\"16\"}})],1)]),_vm._v(\" \"),_vm._l((_vm.categories),function(category){return _c('li',{key:category.slug,on:{\"click\":function($event){return _vm.changeCategory(category.name)}}},[_c('button',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.getFirstEmojiByCategoryName(category.name)),expression:\"getFirstEmojiByCategoryName(category.name)\"}],staticClass:\"emoji--item\",class:{ active: _vm.selectedKey === category.name },on:{\"click\":function($event){return _vm.changeCategory(category.name)}}})])})],2)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    role=\"dialog\"\n    class=\"emoji-dialog bg-white shadow-lg dark:bg-slate-900 rounded-md border border-solid border-slate-75 dark:border-slate-800/50 box-content h-[300px] absolute right-0 -top-[95px] w-80 z-20\"\n  >\n    <div class=\"flex flex-col\">\n      <div class=\"emoji-search--wrap flex gap-2\">\n        <input\n          ref=\"searchbar\"\n          v-model=\"search\"\n          type=\"text\"\n          class=\"emoji-search--input focus:box-shadow-blue dark:focus:box-shadow-dark\"\n          :placeholder=\"$t('EMOJI.PLACEHOLDER')\"\n        />\n        <woot-button\n          v-if=\"showRemoveButton\"\n          size=\"small\"\n          variant=\"smooth\"\n          class=\"dark:!bg-slate-800 dark:!hover:bg-slate-700\"\n          color-scheme=\"secondary\"\n          @click=\"onClick('')\"\n        >\n          {{ $t('EMOJI.REMOVE') }}\n        </woot-button>\n      </div>\n      <div v-if=\"hasNoSearch\" ref=\"emojiItem\" class=\"emoji-item\">\n        <h5 class=\"emoji-category--title\">\n          {{ selectedKey }}\n        </h5>\n        <div class=\"emoji--row\">\n          <button\n            v-for=\"item in filterEmojisByCategory\"\n            :key=\"item.slug\"\n            v-dompurify-html=\"item.emoji\"\n            class=\"emoji--item\"\n            track-by=\"$index\"\n            @click=\"onClick(item.emoji)\"\n          />\n        </div>\n      </div>\n      <div v-else ref=\"emojiItem\" class=\"emoji-item\">\n        <div v-for=\"category in filterAllEmojisBySearch\" :key=\"category.slug\">\n          <h5 v-if=\"category.emojis.length > 0\" class=\"emoji-category--title\">\n            {{ category.name }}\n          </h5>\n          <div v-if=\"category.emojis.length > 0\" class=\"emoji--row\">\n            <button\n              v-for=\"item in category.emojis\"\n              :key=\"item.slug\"\n              v-dompurify-html=\"item.emoji\"\n              class=\"emoji--item\"\n              track-by=\"$index\"\n              @click=\"onClick(item.emoji)\"\n            />\n          </div>\n        </div>\n        <div v-if=\"hasEmptySearchResult\" class=\"empty-message\">\n          <div class=\"emoji-icon\">\n            <fluent-icon icon=\"emoji\" size=\"48\" />\n          </div>\n          <span class=\"empty-message--text\">\n            {{ $t('EMOJI.NOT_FOUND') }}\n          </span>\n        </div>\n      </div>\n\n      <div class=\"emoji-dialog--footer\" role=\"menu\">\n        <ul>\n          <li>\n            <button\n              class=\"emoji--item\"\n              :class=\"{ active: selectedKey === 'Search' }\"\n              @click=\"changeCategory('Search')\"\n            >\n              <fluent-icon\n                icon=\"search\"\n                size=\"16\"\n                class=\"text-slate-700 dark:text-slate-100\"\n              />\n            </button>\n          </li>\n          <li\n            v-for=\"category in categories\"\n            :key=\"category.slug\"\n            @click=\"changeCategory(category.name)\"\n          >\n            <button\n              v-dompurify-html=\"getFirstEmojiByCategoryName(category.name)\"\n              class=\"emoji--item\"\n              :class=\"{ active: selectedKey === category.name }\"\n              @click=\"changeCategory(category.name)\"\n            />\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emojis from './emojisGroup.json';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nconst SEARCH_KEY = 'Search';\n\nexport default {\n  components: { FluentIcon },\n  props: {\n    onClick: {\n      type: Function,\n      default: () => {},\n    },\n    showRemoveButton: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      selectedKey: 'Search',\n      emojis,\n      search: '',\n    };\n  },\n  computed: {\n    categories() {\n      return [...this.emojis];\n    },\n    filterEmojisByCategory() {\n      const selectedCategoryName = this.emojis.find(category =>\n        category.name === this.selectedKey ? category.name : null\n      );\n      return selectedCategoryName?.emojis;\n    },\n    filterAllEmojisBySearch() {\n      return this.emojis.map(category => {\n        const allEmojis = category.emojis.filter(emoji =>\n          emoji.slug.replaceAll('_', ' ').includes(this.search.toLowerCase())\n        );\n        return allEmojis.length > 0\n          ? { ...category, emojis: allEmojis }\n          : { ...category, emojis: [] };\n      });\n    },\n    hasNoSearch() {\n      return this.selectedKey !== SEARCH_KEY && this.search === '';\n    },\n    hasEmptySearchResult() {\n      return this.filterAllEmojisBySearch.every(\n        category => category.emojis.length === 0\n      );\n    },\n  },\n  watch: {\n    search() {\n      this.selectedKey = 'Search';\n    },\n    selectedKey() {\n      return this.selectedKey === 'Search' ? this.focusSearchInput() : null;\n    },\n  },\n  mounted() {\n    this.focusSearchInput();\n  },\n  methods: {\n    changeCategory(category) {\n      this.search = '';\n      this.$refs.emojiItem.scrollTo({ top: 0 });\n      this.selectedKey = category;\n    },\n    getFirstEmojiByCategoryName(categoryName) {\n      const categoryItem = this.emojis.find(category =>\n        category.name === categoryName ? category : null\n      );\n      return categoryItem ? categoryItem.emojis[0].emoji : '';\n    },\n    focusSearchInput() {\n      this.$refs.searchbar.focus();\n    },\n  },\n};\n</script>\n<style scoped>\n@tailwind components;\n@layer components {\n  .box-shadow-blue {\n    box-shadow:\n      0 0 0 1px #1f93ff,\n      0 0 1px 2px #c7e3ff;\n  }\n\n  .box-shadow-dark {\n    box-shadow:\n      0 0 0 1px #212222,\n      0 0 1px 2px #4c5155;\n  }\n}\n</style>\n<style lang=\"scss\">\n@import '~dashboard/assets/scss/mixins';\n\n.emoji-dialog {\n  &::before {\n    $space-slab: 12px;\n\n    @media (prefers-color-scheme: dark) {\n      $color-bg-dark: #26292b;\n      @include arrow(bottom, $color-bg-dark, $space-slab);\n    }\n    @media (prefers-color-scheme: light) {\n      $color-bg: #ebf0f5;\n      @include arrow(bottom, $color-bg, $space-slab);\n    }\n\n    @apply -bottom-3 absolute right-5;\n  }\n}\n\n.emoji--item {\n  @apply bg-transparent border-0 rounded cursor-pointer text-lg h-6 m-0 py-0 px-1 hover:bg-slate-75 dark:hover:bg-slate-800;\n}\n\n.emoji--row {\n  @apply box-border p-1;\n\n  .emoji--item {\n    @apply h-[26px] w-[26px] leading-normal m-1;\n  }\n}\n\n.emoji-search--wrap {\n  @apply m-2 sticky top-2;\n\n  .emoji-search--input {\n    @apply text-sm focus-visible:border-transparent text-slate-800 dark:text-slate-100 h-8 m-0 p-2 w-full rounded-md bg-slate-50 dark:bg-slate-800 border border-solid border-transparent dark:border-slate-800/50;\n  }\n}\n\n.empty-message {\n  @apply items-center flex flex-col h-[212px] justify-center;\n\n  .emoji-icon {\n    @apply text-slate-200 dark:text-slate-200 mb-2;\n  }\n  .empty-message--text {\n    @apply text-slate-200 dark:text-slate-200 text-sm font-medium;\n  }\n}\n\n.emoji-item {\n  @apply h-[212px] overflow-y-auto;\n}\n\n.emoji-category--title {\n  @apply text-slate-800 text-sm dark:text-slate-100 font-medium leading-normal m-0 py-1 px-2 capitalize;\n}\n\n.emoji-dialog--footer {\n  @apply relative w-[322px] -left-px rtl:left-[unset] rtl:-right-px bottom-0 py-0 rounded-b-md border-b border-solid border-slate-75 dark:border-slate-800/50 px-1 bg-slate-75 dark:bg-slate-800;\n\n  ul {\n    @apply flex relative left-[2px] rtl:left-[unset] rtl:right-[2px] list-none m-0 overflow-auto py-1 px-0;\n\n    > li {\n      @apply items-center cursor-pointer flex justify-center p-1;\n    }\n\n    li .active {\n      @apply bg-white dark:bg-slate-900;\n    }\n    .emoji--item {\n      @apply items-center flex text-sm;\n\n      &:hover {\n        @apply bg-slate-75 dark:bg-slate-900;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiInput.vue?vue&type=template&id=77fc14a1&scoped=true&\"\nimport script from \"./EmojiInput.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiInput.vue?vue&type=style&index=0&id=77fc14a1&prod&scoped=true&lang=css&\"\nimport style1 from \"./EmojiInput.vue?vue&type=style&index=1&id=77fc14a1&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77fc14a1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}