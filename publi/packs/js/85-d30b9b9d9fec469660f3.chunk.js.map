{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?b412","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?973e","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?b583","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue"],"names":["component","_vm","this","_c","_self","staticClass","class","showArticleSettings","attrs","$t","on","onClickGoBack","openArticleSettings","closeArticleSettings","createNewArticle","_v","newArticle","article","saveArticle","_e"],"mappings":"mHAAA,S,mGCAA,I,g3BCgCA,OACA,YACA,sBACA,kBACA,qBAEA,iBACA,KAPA,WAQA,OACA,gBACA,kBACA,yBACA,uBACA,aAGA,gBACA,sBACA,iCACA,6BACA,yCAJA,IAMA,UANA,WAOA,uCAEA,WATA,WAUA,6DAEA,mBAZA,WAaA,sCAEA,WAfA,WAgBA,4DAGA,SACA,cADA,WAEA,sDAEA,iBAJA,YAIA,I,EAAA,c,EAAA,2JACA,sBACA,sBACA,yBACA,kCAJA,0CAMC,EAAD,mCACA,gCACA,yBACA,qBACA,0BAEA,2BAZA,OAMA,EANA,OAcA,gBACA,oBACA,QACA,cACA,gCACA,gBACA,sBAGA,6BACA,kBAxBA,kDA2BA,gBACA,iDACA,qDACA,4BA9BA,yD,kLAkCA,oBAtCA,WAuCA,6BAEA,qBAzCA,WA0CA,6BAEA,YA5CA,WA6CA,sEACA,qCCjHwO,I,iBCQpOA,EAAY,YACd,GHTW,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyBC,MAAM,CAAE,kBAAmBL,EAAIM,sBAAuB,CAACJ,EAAG,sBAAsB,CAACK,MAAM,CAAC,oBAAoBP,EAAIQ,GAAG,0CAA0C,cAAc,QAAQ,kBAAkBR,EAAIM,qBAAqBG,GAAG,CAAC,KAAOT,EAAIU,cAAc,KAAOV,EAAIW,oBAAoB,MAAQX,EAAIY,qBAAqB,eAAeZ,EAAIa,oBAAoBb,EAAIc,GAAG,KAAKZ,EAAG,iBAAiB,CAACK,MAAM,CAAC,QAAUP,EAAIe,YAAYN,GAAG,CAAC,eAAeT,EAAIa,qBAAqB,GAAGb,EAAIc,GAAG,KAAMd,EAAuB,oBAAEE,EAAG,mBAAmB,CAACK,MAAM,CAAC,QAAUP,EAAIgB,SAASP,GAAG,CAAC,eAAeT,EAAIiB,eAAejB,EAAIkB,MAAM,KAEtuB,IGUpB,EACA,KACA,WACA,MAIa,UAAAnB,E","file":"js/85-d30b9b9d9fec469660f3.chunk.js","sourcesContent":["export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=style&index=0&id=fcdb10f8&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container\"},[_c('div',{staticClass:\"new-article--container\",class:{ 'is-sidebar-open': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"draft-state\":\"saved\",\"is-sidebar-open\":_vm.showArticleSettings},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"save-article\":_vm.createNewArticle}}),_vm._v(\" \"),_c('article-editor',{attrs:{\"article\":_vm.newArticle},on:{\"save-article\":_vm.createNewArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-container\">\n    <div\n      class=\"new-article--container\"\n      :class=\"{ 'is-sidebar-open': showArticleSettings }\"\n    >\n      <edit-article-header\n        :back-button-label=\"$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES')\"\n        draft-state=\"saved\"\n        :is-sidebar-open=\"showArticleSettings\"\n        @back=\"onClickGoBack\"\n        @open=\"openArticleSettings\"\n        @close=\"closeArticleSettings\"\n        @save-article=\"createNewArticle\"\n      />\n      <article-editor :article=\"newArticle\" @save-article=\"createNewArticle\" />\n    </div>\n    <article-settings\n      v-if=\"showArticleSettings\"\n      :article=\"article\"\n      @save-article=\"saveArticle\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport EditArticleHeader from 'dashboard/routes/dashboard/helpcenter/components/Header/EditArticleHeader.vue';\nimport ArticleEditor from '../../components/ArticleEditor.vue';\nimport portalMixin from '../../mixins/portalMixin';\nimport alertMixin from 'shared/mixins/alertMixin.js';\nimport ArticleSettings from './ArticleSettings.vue';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\nexport default {\n  components: {\n    EditArticleHeader,\n    ArticleEditor,\n    ArticleSettings,\n  },\n  mixins: [portalMixin, alertMixin],\n  data() {\n    return {\n      articleTitle: '',\n      articleContent: '',\n      showOpenSidebarButton: false,\n      showArticleSettings: true,\n      article: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentUserID: 'getCurrentUserID',\n      articles: 'articles/articles',\n      categories: 'categories/allCategories',\n    }),\n    articleId() {\n      return this.$route.params.articleSlug;\n    },\n    newArticle() {\n      return { title: this.articleTitle, content: this.articleContent };\n    },\n    selectedPortalSlug() {\n      return this.$route.params.portalSlug;\n    },\n    categoryId() {\n      return this.categories.length ? this.categories[0].id : null;\n    },\n  },\n  methods: {\n    onClickGoBack() {\n      this.$router.push({ name: 'list_all_locale_articles' });\n    },\n    async createNewArticle({ ...values }) {\n      const { title, content } = values;\n      if (title) this.articleTitle = title;\n      if (content) this.articleContent = content;\n      if (this.articleTitle && this.articleContent) {\n        try {\n          const articleId = await this.$store.dispatch('articles/create', {\n            portalSlug: this.selectedPortalSlug,\n            content: this.articleContent,\n            title: this.articleTitle,\n            author_id: this.currentUserID,\n            // TODO: Change to un categorized later when API supports\n            category_id: this.categoryId,\n          });\n          this.$router.push({\n            name: 'edit_article',\n            params: {\n              articleSlug: articleId,\n              portalSlug: this.selectedPortalSlug,\n              locale: this.locale,\n              recentlyCreated: true,\n            },\n          });\n          this.$track(PORTALS_EVENTS.CREATE_ARTICLE, {\n            locale: this.locale,\n          });\n        } catch (error) {\n          this.alertMessage =\n            error?.message ||\n            this.$t('HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE');\n          this.showAlert(this.alertMessage);\n        }\n      }\n    },\n    openArticleSettings() {\n      this.showArticleSettings = true;\n    },\n    closeArticleSettings() {\n      this.showArticleSettings = false;\n    },\n    saveArticle() {\n      this.alertMessage = this.$t('HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE');\n      this.showAlert(this.alertMessage);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.article-container {\n  display: flex;\n  padding: 0 var(--space-normal);\n  width: 100%;\n  flex: 1;\n  overflow: auto;\n}\n.new-article--container {\n  flex: 1;\n  flex-shrink: 0;\n  overflow-y: auto;\n}\n.is-sidebar-open {\n  flex: 0.7;\n  flex-grow: 1;\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewArticle.vue?vue&type=template&id=fcdb10f8&scoped=true&\"\nimport script from \"./NewArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./NewArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewArticle.vue?vue&type=style&index=0&id=fcdb10f8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcdb10f8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}