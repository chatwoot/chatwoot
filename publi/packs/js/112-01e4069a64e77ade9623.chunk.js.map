{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/IntegrationHooks.vue?769f","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/hookMixin.js","webpack:///app/javascript/dashboard/routes/dashboard/settings/integrationapps/NewHook.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/NewHook.vue?b7fb","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/NewHook.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/NewHook.vue?acd4","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/SingleIntegrationHooks.vue?ae03","webpack:///app/javascript/dashboard/routes/dashboard/settings/integrationapps/SingleIntegrationHooks.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/SingleIntegrationHooks.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/SingleIntegrationHooks.vue?b770","webpack:///app/javascript/dashboard/routes/dashboard/settings/integrationapps/MultipleIntegrationHooks.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/MultipleIntegrationHooks.vue?97b7","webpack:///app/javascript/dashboard/routes/dashboard/settings/integrationapps/IntegrationHooks.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/MultipleIntegrationHooks.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/MultipleIntegrationHooks.vue?fb33","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/IntegrationHooks.vue?a1f7","webpack:///./app/javascript/dashboard/routes/dashboard/settings/integrationapps/IntegrationHooks.vue"],"names":["computed","isHookTypeInbox","this","integration","hook_type","hasConnectedHooks","hooks","length","component","_vm","_c","_self","staticClass","attrs","name","description","_v","on","submitForm","scopedSlots","_u","key","fn","hasErrors","_l","item","_b","inboxes","$t","_e","uiFlags","isCreatingHook","_s","$event","preventDefault","onClose","apply","arguments","model","value","callback","$$v","values","expression","logo","$emit","hookHeader","hook","id","property","inboxName","directives","rawName","modifiers","integrationId","toUpperCase","installationName","globalConfig","openAddHookModal","openDeletePopup","showAddHookModal","hideAddHookModal","showDeleteConfirmationPopup","closeDeletePopup","confirmDeletion","deleteTitle","deleteMessage","confirmText","cancelText"],"mappings":"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","file":"js/112-01e4069a64e77ade9623.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-auto p-4 max-w-full my-auto flex flex-wrap h-full\"},[(_vm.showAddButton)?_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":_vm.openAddHookModal}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('INTEGRATION_APPS.ADD_BUTTON'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.showIntegrationHooks)?_c('div',{staticClass:\"w-full\"},[(_vm.isIntegrationMultiple)?_c('div',[_c('multiple-integration-hooks',{attrs:{\"integration\":_vm.integration},on:{\"delete\":_vm.openDeletePopup}})],1):_vm._e(),_vm._v(\" \"),(_vm.isIntegrationSingle)?_c('div',[_c('single-integration-hooks',{attrs:{\"integration\":_vm.integration},on:{\"add\":_vm.openAddHookModal,\"delete\":_vm.openDeletePopup}})],1):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddHookModal,\"on-close\":_vm.hideAddHookModal},on:{\"update:show\":function($event){_vm.showAddHookModal=$event}}},[_c('new-hook',{attrs:{\"integration\":_vm.integration},on:{\"close\":_vm.hideAddHookModal}})],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.deleteTitle,\"message\":_vm.deleteMessage,\"confirm-text\":_vm.confirmText,\"reject-text\":_vm.cancelText},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  computed: {\n    isHookTypeInbox() {\n      return this.integration.hook_type === 'inbox';\n    },\n    hasConnectedHooks() {\n      return !!this.integration.hooks.length;\n    },\n  },\n};\n","<!-- eslint-disable vue/v-slot-style -->\n<template>\n  <div class=\"flex flex-col h-auto overflow-auto integration-hooks\">\n    <woot-modal-header\n      :header-title=\"integration.name\"\n      :header-content=\"integration.description\"\n    />\n    <formulate-form\n      #default=\"{ hasErrors }\"\n      v-model=\"values\"\n      class=\"w-full\"\n      @submit=\"submitForm\"\n    >\n      <formulate-input\n        v-for=\"item in formItems\"\n        :key=\"item.name\"\n        v-bind=\"item\"\n      />\n      <formulate-input\n        v-if=\"isHookTypeInbox\"\n        :options=\"inboxes\"\n        type=\"select\"\n        name=\"inbox\"\n        :placeholder=\"$t('INTEGRATION_APPS.ADD.FORM.INBOX.LABEL')\"\n        :label=\"$t('INTEGRATION_APPS.ADD.FORM.INBOX.PLACEHOLDER')\"\n        validation=\"required\"\n        validation-name=\"Inbox\"\n      />\n      <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n        <woot-button :disabled=\"hasErrors\" :loading=\"uiFlags.isCreatingHook\">\n          {{ $t('INTEGRATION_APPS.ADD.FORM.SUBMIT') }}\n        </woot-button>\n        <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n          {{ $t('INTEGRATION_APPS.ADD.FORM.CANCEL') }}\n        </woot-button>\n      </div>\n    </formulate-form>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport hookMixin from './hookMixin';\n\nexport default {\n  mixins: [alertMixin, hookMixin],\n  props: {\n    integration: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      endPoint: '',\n      alertMessage: '',\n      values: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'integrations/getUIFlags',\n      websiteInboxes: 'inboxes/getWebsiteInboxes',\n      dialogFlowEnabledInboxes: 'inboxes/dialogFlowEnabledInboxes',\n    }),\n    inboxes() {\n      return this.dialogFlowEnabledInboxes\n        .filter(inbox => {\n          if (!this.isIntegrationDialogflow) {\n            return true;\n          }\n          return !this.connectedDialogflowInboxIds.includes(inbox.id);\n        })\n        .map(inbox => ({ label: inbox.name, value: inbox.id }));\n    },\n\n    connectedDialogflowInboxIds() {\n      if (!this.isIntegrationDialogflow) {\n        return [];\n      }\n      return this.integration.hooks.map(hook => hook.inbox?.id);\n    },\n    formItems() {\n      return this.integration.settings_form_schema;\n    },\n    isIntegrationDialogflow() {\n      return this.integration.id === 'dialogflow';\n    },\n  },\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    buildHookPayload() {\n      const hookPayload = {\n        app_id: this.integration.id,\n        settings: {},\n      };\n\n      hookPayload.settings = Object.keys(this.values).reduce((acc, key) => {\n        if (key !== 'inbox') {\n          acc[key] = this.values[key];\n        }\n        return acc;\n      }, {});\n\n      this.formItems.forEach(item => {\n        if (item.validation.includes('JSON')) {\n          hookPayload.settings[item.name] = JSON.parse(\n            hookPayload.settings[item.name]\n          );\n        }\n      });\n\n      if (this.isHookTypeInbox && this.values.inbox) {\n        hookPayload.inbox_id = this.values.inbox;\n      }\n\n      return hookPayload;\n    },\n    async submitForm() {\n      try {\n        await this.$store.dispatch(\n          'integrations/createHook',\n          this.buildHookPayload()\n        );\n        this.alertMessage = this.$t('INTEGRATION_APPS.ADD.API.SUCCESS_MESSAGE');\n        this.onClose();\n      } catch (error) {\n        const errorMessage = error?.response?.data?.message;\n        this.alertMessage =\n          errorMessage || this.$t('INTEGRATION_APPS.ADD.API.ERROR_MESSAGE');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewHook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewHook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewHook.vue?vue&type=template&id=407249fa&\"\nimport script from \"./NewHook.vue?vue&type=script&lang=js&\"\nexport * from \"./NewHook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col h-auto overflow-auto integration-hooks\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.integration.name,\"header-content\":_vm.integration.description}}),_vm._v(\" \"),_c('formulate-form',{staticClass:\"w-full\",on:{\"submit\":_vm.submitForm},scopedSlots:_vm._u([{key:\"default\",fn:function({ hasErrors }){return [_vm._l((_vm.formItems),function(item){return _c('formulate-input',_vm._b({key:item.name},'formulate-input',item,false))}),_vm._v(\" \"),(_vm.isHookTypeInbox)?_c('formulate-input',{attrs:{\"options\":_vm.inboxes,\"type\":\"select\",\"name\":\"inbox\",\"placeholder\":_vm.$t('INTEGRATION_APPS.ADD.FORM.INBOX.LABEL'),\"label\":_vm.$t('INTEGRATION_APPS.ADD.FORM.INBOX.PLACEHOLDER'),\"validation\":\"required\",\"validation-name\":\"Inbox\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{attrs:{\"disabled\":hasErrors,\"loading\":_vm.uiFlags.isCreatingHook}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('INTEGRATION_APPS.ADD.FORM.SUBMIT'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('INTEGRATION_APPS.ADD.FORM.CANCEL'))+\"\\n      \")])],1)]}}]),model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleIntegrationHooks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleIntegrationHooks.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"flex-shrink flex-grow overflow-auto p-4\">\n    <div class=\"flex flex-col\">\n      <div\n        class=\"bg-white dark:bg-slate-800 border border-solid border-slate-75 dark:border-slate-700/50 rounded-sm mb-4 p-4\"\n      >\n        <div class=\"flex\">\n          <div class=\"flex h-[6.25rem] w-[6.25rem]\">\n            <img\n              :src=\"'/dashboard/images/integrations/' + integration.logo\"\n              class=\"max-w-full p-6\"\n            />\n          </div>\n          <div class=\"flex flex-col justify-center m-0 mx-4 flex-1\">\n            <h3 class=\"text-xl text-slate-800 dark:text-slate-100\">\n              {{ integration.name }}\n            </h3>\n            <p>\n              {{ integration.description }}\n            </p>\n          </div>\n          <div class=\"flex justify-center items-center mb-0 w-[15%]\">\n            <div v-if=\"hasConnectedHooks\">\n              <div @click=\"$emit('delete', integration.hooks[0])\">\n                <woot-button class=\"nice alert\">\n                  {{ $t('INTEGRATION_APPS.DISCONNECT.BUTTON_TEXT') }}\n                </woot-button>\n              </div>\n            </div>\n            <div v-else>\n              <woot-button class=\"button nice\" @click=\"$emit('add')\">\n                {{ $t('INTEGRATION_APPS.CONNECT.BUTTON_TEXT') }}\n              </woot-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport hookMixin from './hookMixin';\nexport default {\n  mixins: [hookMixin],\n  props: {\n    integration: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./SingleIntegrationHooks.vue?vue&type=template&id=2c9ba518&\"\nimport script from \"./SingleIntegrationHooks.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleIntegrationHooks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-shrink flex-grow overflow-auto p-4\"},[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"bg-white dark:bg-slate-800 border border-solid border-slate-75 dark:border-slate-700/50 rounded-sm mb-4 p-4\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex h-[6.25rem] w-[6.25rem]\"},[_c('img',{staticClass:\"max-w-full p-6\",attrs:{\"src\":'/dashboard/images/integrations/' + _vm.integration.logo}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col justify-center m-0 mx-4 flex-1\"},[_c('h3',{staticClass:\"text-xl text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n            \"+_vm._s(_vm.integration.name)+\"\\n          \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.integration.description)+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-center items-center mb-0 w-[15%]\"},[(_vm.hasConnectedHooks)?_c('div',[_c('div',{on:{\"click\":function($event){return _vm.$emit('delete', _vm.integration.hooks[0])}}},[_c('woot-button',{staticClass:\"nice alert\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('INTEGRATION_APPS.DISCONNECT.BUTTON_TEXT'))+\"\\n              \")])],1)]):_c('div',[_c('woot-button',{staticClass:\"button nice\",on:{\"click\":function($event){return _vm.$emit('add')}}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('INTEGRATION_APPS.CONNECT.BUTTON_TEXT'))+\"\\n            \")])],1)])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-row gap-4\">\n    <div class=\"w-[60%]\">\n      <table v-if=\"hasConnectedHooks\" class=\"woot-table\">\n        <thead>\n          <th v-for=\"hookHeader in hookHeaders\" :key=\"hookHeader\">\n            {{ hookHeader }}\n          </th>\n          <th v-if=\"isHookTypeInbox\">\n            {{ $t('INTEGRATION_APPS.LIST.INBOX') }}\n          </th>\n        </thead>\n        <tbody>\n          <tr v-for=\"hook in hooks\" :key=\"hook.id\">\n            <td\n              v-for=\"property in hook.properties\"\n              :key=\"property\"\n              class=\"break-words\"\n            >\n              {{ property }}\n            </td>\n            <td v-if=\"isHookTypeInbox\" class=\"break-words\">\n              {{ inboxName(hook) }}\n            </td>\n            <td class=\"button-wrapper\">\n              <woot-button\n                v-tooltip.top=\"$t('INTEGRATION_APPS.LIST.DELETE.BUTTON_TEXT')\"\n                variant=\"smooth\"\n                color-scheme=\"alert\"\n                size=\"tiny\"\n                icon=\"dismiss-circle\"\n                class-names=\"grey-btn\"\n                @click=\"$emit('delete', hook)\"\n              />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p v-else class=\"flex h-full items-center flex-col justify-center\">\n        {{\n          $t('INTEGRATION_APPS.NO_HOOK_CONFIGURED', {\n            integrationId: integration.id,\n          })\n        }}\n      </p>\n    </div>\n    <div class=\"w-[34%]\">\n      <p>\n        <b>{{ integration.name }}</b>\n      </p>\n      <p\n        v-dompurify-html=\"\n          $t(\n            `INTEGRATION_APPS.SIDEBAR_DESCRIPTION.${integration.name.toUpperCase()}`,\n            { installationName: globalConfig.installationName }\n          )\n        \"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport hookMixin from './hookMixin';\nexport default {\n  mixins: [hookMixin],\n  props: {\n    integration: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  computed: {\n    ...mapGetters({\n      globalConfig: 'globalConfig/get',\n    }),\n    hookHeaders() {\n      return this.integration.visible_properties;\n    },\n    hooks() {\n      if (!this.hasConnectedHooks) {\n        return [];\n      }\n      const { hooks } = this.integration;\n      return hooks.map(hook => ({\n        ...hook,\n        id: hook.id,\n        properties: this.hookHeaders.map(property =>\n          hook.settings[property] ? hook.settings[property] : '--'\n        ),\n      }));\n    },\n  },\n  mounted() {},\n  methods: {\n    inboxName(hook) {\n      return hook.inbox ? hook.inbox.name : '';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultipleIntegrationHooks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultipleIntegrationHooks.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"overflow-auto p-4 max-w-full my-auto flex flex-wrap h-full\">\n    <woot-button\n      v-if=\"showAddButton\"\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"add-circle\"\n      @click=\"openAddHookModal\"\n    >\n      {{ $t('INTEGRATION_APPS.ADD_BUTTON') }}\n    </woot-button>\n    <div v-if=\"showIntegrationHooks\" class=\"w-full\">\n      <div v-if=\"isIntegrationMultiple\">\n        <multiple-integration-hooks\n          :integration=\"integration\"\n          @delete=\"openDeletePopup\"\n        />\n      </div>\n\n      <div v-if=\"isIntegrationSingle\">\n        <single-integration-hooks\n          :integration=\"integration\"\n          @add=\"openAddHookModal\"\n          @delete=\"openDeletePopup\"\n        />\n      </div>\n    </div>\n\n    <woot-modal :show.sync=\"showAddHookModal\" :on-close=\"hideAddHookModal\">\n      <new-hook :integration=\"integration\" @close=\"hideAddHookModal\" />\n    </woot-modal>\n\n    <woot-delete-modal\n      :show.sync=\"showDeleteConfirmationPopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"deleteTitle\"\n      :message=\"deleteMessage\"\n      :confirm-text=\"confirmText\"\n      :reject-text=\"cancelText\"\n    />\n  </div>\n</template>\n<script>\nimport { isEmptyObject } from '../../../../helper/commons';\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport hookMixin from './hookMixin';\nimport NewHook from './NewHook.vue';\nimport SingleIntegrationHooks from './SingleIntegrationHooks.vue';\nimport MultipleIntegrationHooks from './MultipleIntegrationHooks.vue';\n\nexport default {\n  components: {\n    NewHook,\n    SingleIntegrationHooks,\n    MultipleIntegrationHooks,\n  },\n  mixins: [alertMixin, hookMixin],\n  props: {\n    integrationId: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  data() {\n    return {\n      loading: {},\n      showAddHookModal: false,\n      showDeleteConfirmationPopup: false,\n      selectedHook: {},\n      alertMessage: '',\n    };\n  },\n  computed: {\n    ...mapGetters({ uiFlags: 'integrations/getUIFlags' }),\n    integration() {\n      return this.$store.getters['integrations/getIntegration'](\n        this.integrationId\n      );\n    },\n    showIntegrationHooks() {\n      return !this.uiFlags.isFetching && !isEmptyObject(this.integration);\n    },\n    integrationType() {\n      return this.integration.allow_multiple_hooks ? 'multiple' : 'single';\n    },\n    isIntegrationMultiple() {\n      return this.integrationType === 'multiple';\n    },\n    isIntegrationSingle() {\n      return this.integrationType === 'single';\n    },\n    showAddButton() {\n      return this.showIntegrationHooks && this.isIntegrationMultiple;\n    },\n    deleteTitle() {\n      return this.isHookTypeInbox\n        ? this.$t('INTEGRATION_APPS.DELETE.TITLE.INBOX')\n        : this.$t('INTEGRATION_APPS.DELETE.TITLE.ACCOUNT');\n    },\n    deleteMessage() {\n      return this.isHookTypeInbox\n        ? this.$t('INTEGRATION_APPS.DELETE.MESSAGE.INBOX')\n        : this.$t('INTEGRATION_APPS.DELETE.MESSAGE.ACCOUNT');\n    },\n    confirmText() {\n      return this.isHookTypeInbox\n        ? this.$t('INTEGRATION_APPS.DELETE.CONFIRM_BUTTON_TEXT.INBOX')\n        : this.$t('INTEGRATION_APPS.DELETE.CONFIRM_BUTTON_TEXT.ACCOUNT');\n    },\n    cancelText() {\n      return this.$t('INTEGRATION_APPS.DELETE.CANCEL_BUTTON_TEXT');\n    },\n  },\n  methods: {\n    openAddHookModal() {\n      this.showAddHookModal = true;\n    },\n    hideAddHookModal() {\n      this.showAddHookModal = false;\n    },\n    openDeletePopup(response) {\n      this.showDeleteConfirmationPopup = true;\n      this.selectedHook = response;\n    },\n    closeDeletePopup() {\n      this.showDeleteConfirmationPopup = false;\n    },\n    async confirmDeletion() {\n      try {\n        await this.$store.dispatch('integrations/deleteHook', {\n          hookId: this.selectedHook.id,\n          appId: this.selectedHook.app_id,\n        });\n        this.alertMessage = this.$t(\n          'INTEGRATION_APPS.DELETE.API.SUCCESS_MESSAGE'\n        );\n        this.closeDeletePopup();\n      } catch (error) {\n        const errorMessage = error?.response?.data?.message;\n        this.alertMessage =\n          errorMessage || this.$t('INTEGRATION_APPS.DELETE.API.ERROR_MESSAGE');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./MultipleIntegrationHooks.vue?vue&type=template&id=714c3e28&\"\nimport script from \"./MultipleIntegrationHooks.vue?vue&type=script&lang=js&\"\nexport * from \"./MultipleIntegrationHooks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-[60%]\"},[(_vm.hasConnectedHooks)?_c('table',{staticClass:\"woot-table\"},[_c('thead',[_vm._l((_vm.hookHeaders),function(hookHeader){return _c('th',{key:hookHeader},[_vm._v(\"\\n          \"+_vm._s(hookHeader)+\"\\n        \")])}),_vm._v(\" \"),(_vm.isHookTypeInbox)?_c('th',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INTEGRATION_APPS.LIST.INBOX'))+\"\\n        \")]):_vm._e()],2),_vm._v(\" \"),_c('tbody',_vm._l((_vm.hooks),function(hook){return _c('tr',{key:hook.id},[_vm._l((hook.properties),function(property){return _c('td',{key:property,staticClass:\"break-words\"},[_vm._v(\"\\n            \"+_vm._s(property)+\"\\n          \")])}),_vm._v(\" \"),(_vm.isHookTypeInbox)?_c('td',{staticClass:\"break-words\"},[_vm._v(\"\\n            \"+_vm._s(_vm.inboxName(hook))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),_c('td',{staticClass:\"button-wrapper\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('INTEGRATION_APPS.LIST.DELETE.BUTTON_TEXT')),expression:\"$t('INTEGRATION_APPS.LIST.DELETE.BUTTON_TEXT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\"},on:{\"click\":function($event){return _vm.$emit('delete', hook)}}})],1)],2)}),0)]):_c('p',{staticClass:\"flex h-full items-center flex-col justify-center\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('INTEGRATION_APPS.NO_HOOK_CONFIGURED', {\n          integrationId: _vm.integration.id,\n        }))+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[34%]\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.integration.name))])]),_vm._v(\" \"),_c('p',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n        _vm.$t(\n          `INTEGRATION_APPS.SIDEBAR_DESCRIPTION.${_vm.integration.name.toUpperCase()}`,\n          { installationName: _vm.globalConfig.installationName }\n        )\n      ),expression:\"\\n        $t(\\n          `INTEGRATION_APPS.SIDEBAR_DESCRIPTION.${integration.name.toUpperCase()}`,\\n          { installationName: globalConfig.installationName }\\n        )\\n      \"}]})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntegrationHooks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntegrationHooks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IntegrationHooks.vue?vue&type=template&id=01b8ae2a&\"\nimport script from \"./IntegrationHooks.vue?vue&type=script&lang=js&\"\nexport * from \"./IntegrationHooks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}