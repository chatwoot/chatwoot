(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{2878:function(e,t,o){},3151:function(e,t,o){"use strict";o(2878)},3376:function(e,t,o){"use strict";o.r(t);o(30),o(37),o(10),o(4),o(8),o(11),o(9),o(12),o(7),o(22);var n=o(25),s=o(79),r=o(353),i={components:{Thumbnail:o(261).a},mixins:[r.a],props:{macro:{type:Object,required:!0}},computed:{visibilityLabel:function(){return"global"===this.macro.visibility?this.$t("MACROS.EDITOR.VISIBILITY.GLOBAL.LABEL"):this.$t("MACROS.EDITOR.VISIBILITY.PERSONAL.LABEL")}}},a=(o(3151),o(5));function c(e,t,o,n,s,r,i){try{var a=e[r](i),c=a.value}catch(l){return void o(l)}a.done?t(c):Promise.resolve(c).then(n,s)}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={components:{MacrosTableRow:Object(a.a)(i,(function(){var e=this,t=e._self._c;return t("tr",[t("td",[e._v(e._s(e.macro.name))]),e._v(" "),t("td",[t("div",{staticClass:"avatar-container"},[t("thumbnail",{attrs:{username:e.macro.created_by.name,size:"24px"}}),e._v(" "),t("span",[e._v(e._s(e.macro.created_by.name))])],1)]),e._v(" "),t("td",[t("div",{staticClass:"avatar-container"},[t("thumbnail",{attrs:{username:e.macro.updated_by.name,size:"24px"}}),e._v(" "),t("span",[e._v(e._s(e.macro.updated_by.name))])],1)]),e._v(" "),t("td",[e._v(e._s(e.visibilityLabel))]),e._v(" "),t("td",{staticClass:"button-wrapper"},[t("router-link",{attrs:{to:e.addAccountScoping(`settings/macros/${e.macro.id}/edit`)}},[t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("MACROS.EDIT.TOOLTIP"),expression:"$t('MACROS.EDIT.TOOLTIP')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary","class-names":"grey-btn",icon:"edit"}})],1),e._v(" "),t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("MACROS.DELETE.TOOLTIP"),expression:"$t('MACROS.DELETE.TOOLTIP')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn"},on:{click:function(t){return e.$emit("delete")}}})],1)])}),[],!1,null,"47b1ee6e",null).exports},mixins:[s.a,r.a],data:function(){return{showDeleteConfirmationPopup:!1,selectedResponse:{},loading:{}}},computed:u(u({},Object(n.mapGetters)({records:["macros/getMacros"],uiFlags:"macros/getUIFlags"})),{},{deleteMessage:function(){return" ".concat(this.selectedResponse.name,"?")}}),mounted:function(){this.$store.dispatch("macros/get")},methods:{openDeletePopup:function(e){this.showDeleteConfirmationPopup=!0,this.selectedResponse=e},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){this.loading[this.selectedResponse.id]=!0,this.closeDeletePopup(),this.deleteMacro(this.selectedResponse.id)},deleteMacro:function(e){var t,o=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.$store.dispatch("macros/delete",e);case 3:o.showAlert(o.$t("MACROS.DELETE.API.SUCCESS_MESSAGE")),o.loading[o.selectedResponse.id]=!1,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o.showAlert(o.$t("MACROS.DELETE.API.ERROR_MESSAGE"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,o=arguments;return new Promise((function(n,s){var r=t.apply(e,o);function i(e){c(r,n,s,i,a,"next",e)}function a(e){c(r,n,s,i,a,"throw",e)}i(void 0)}))})()}}},m=d,f=Object(a.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-1 overflow-auto p-4"},[t("router-link",{staticClass:"button success button--fixed-top flex gap-1",attrs:{to:e.addAccountScoping("settings/macros/new")}},[t("fluent-icon",{attrs:{icon:"add-circle"}}),e._v(" "),t("span",{staticClass:"button__content"},[e._v("\n      "+e._s(e.$t("MACROS.HEADER_BTN_TXT"))+"\n    ")])],1),e._v(" "),t("div",{staticClass:"flex flex-row gap-4"},[t("div",{staticClass:"w-[60%]"},[e.uiFlags.isFetching||e.records.length?e._e():t("div",{staticClass:"p-3"},[t("p",{staticClass:"flex h-full items-center flex-col justify-center"},[e._v("\n          "+e._s(e.$t("MACROS.LIST.404"))+"\n        ")])]),e._v(" "),e.uiFlags.isFetching?t("woot-loading-state",{attrs:{message:e.$t("MACROS.LOADING")}}):e._e(),e._v(" "),!e.uiFlags.isFetching&&e.records.length?t("table",{staticClass:"woot-table"},[t("thead",e._l(e.$t("MACROS.LIST.TABLE_HEADER"),(function(o){return t("th",{key:o},[e._v("\n            "+e._s(o)+"\n          ")])})),0),e._v(" "),t("tbody",e._l(e.records,(function(o,n){return t("macros-table-row",{key:n,attrs:{macro:o},on:{delete:function(t){return e.openDeletePopup(o,n)}}})})),1)]):e._e()],1),e._v(" "),t("div",{staticClass:"w-[34%]"},[t("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.$t("MACROS.SIDEBAR_TXT"),expression:"$t('MACROS.SIDEBAR_TXT')"}]})])]),e._v(" "),t("woot-delete-modal",{attrs:{show:e.showDeleteConfirmationPopup,"on-close":e.closeDeletePopup,"on-confirm":e.confirmDeletion,title:e.$t("LABEL_MGMT.DELETE.CONFIRM.TITLE"),message:e.$t("MACROS.DELETE.CONFIRM.MESSAGE"),"message-value":e.deleteMessage,"confirm-text":e.$t("MACROS.DELETE.CONFIRM.YES"),"reject-text":e.$t("MACROS.DELETE.CONFIRM.NO")},on:{"update:show":function(t){e.showDeleteConfirmationPopup=t}}})],1)}),[],!1,null,null,null);t.default=f.exports}}]);
//# sourceMappingURL=89-0db112a72d9e90a48e21.chunk.js.map