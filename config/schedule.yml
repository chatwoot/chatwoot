# https://github.com/ondrejbartas/sidekiq-cron
# use https://crontab.guru/ to validate
# validations for this file exist in /spec/configs/schedule_spec.rb

# executed At 12:00 on every day-of-month.
# internal_check_new_versions_job:
#   cron: '0 12 */1 * *'
#   class: 'Internal::CheckNewVersionsJob'
#   queue: scheduled_jobs

# executed At every 5th minute..
trigger_scheduled_items_job:
  cron: '*/5 * * * *'
  class: 'TriggerScheduledItemsJob'
  queue: scheduled_jobs

# executed At every minute..
trigger_imap_email_inboxes_job:
  cron: '*/1 * * * *'
  class: 'Inboxes::FetchImapEmailInboxesJob'
  queue: scheduled_jobs

# executed daily at 2230 UTC
# which is our lowest traffic time
remove_stale_contact_inboxes_job.rb:
  cron: '30 22 * * *'
  class: 'Internal::RemoveStaleContactInboxesJob'
  queue: scheduled_jobs

# executed daily at 0330 UTC
daily_conversation_with_order_ids_report_job:
  cron: '30 1 * * *'
  class: 'DailyConversationWithOrderIdsReportJob'
  queue: scheduled_jobs

daily_conversation_report_job:
  cron: '30 1,13 * * *'
  class: 'DailyConversationReportJob'
  queue: scheduled_jobs

daily_resolved_conversation_report_job:
  cron: '30 1 * * *'
  class: 'DailyResolvedConversationReportJob'
  queue: scheduled_jobs

label_report_job:
  cron: '30 1 * * *'
  class: 'LabelReportJob'
  queue: scheduled_jobs

custom_attributes_job:
  cron: '30 1 * * *'
  class: 'CustomAttributesReportJob'
  queue: scheduled_jobs

agent_report_job:
  cron: '30 1 * * *'
  class: 'AgentReportJob'
  queue: scheduled_jobs

# executed daily at 12:01 AM IST (18:31 UTC previous day)
hourly_chat_report_job:
  cron: '30 1 * * *'
  class: 'HourlyChatReportJob'
  queue: scheduled_jobs

custom_conversation_dump_job:
  cron: '30 1 * * *'
  class: 'CustomConversationDumpJob'
  queue: scheduled_jobs
# executed every 30 seconds for Sidekiq thread utilization monitoring
sidekiq_thread_utilization_monitoring_job:
  cron: '*/15 * * * * *'
  class: 'SidekiqThreadUtilizationMonitoringJob'
  queue: scheduled_jobs

# executed every 5 minutes; jobs self-gate by time/day inside perform
weekly_bot_report_job:
  cron: '*/5 * * * *'
  class: 'WeeklyBotReportJob'
  queue: scheduled_jobs

weekly_agent_level_report_job:
  cron: '*/5 * * * *'
  class: 'WeeklyAgentLevelReportJob'
  queue: scheduled_jobs

weekly_inbox_channel_report_job:
  cron: '*/5 * * * *'
  class: 'WeeklyInboxChannelReportJob'
  queue: scheduled_jobs

# executed every 48 hours (at 01:00 UTC on odd days: 1st, 3rd, 5th, etc.)
message_report_job:
  cron: '0 1 1-31/2 * *'
  class: 'MessageReportJob'
  queue: scheduled_jobs

# executed every 10 minutes
# cleanup expired contact ownership assignments
contact_ownership_cleanup_job:
  cron: '*/10 * * * *'
  class: 'ContactOwnershipCleanupJob'
  queue: low
