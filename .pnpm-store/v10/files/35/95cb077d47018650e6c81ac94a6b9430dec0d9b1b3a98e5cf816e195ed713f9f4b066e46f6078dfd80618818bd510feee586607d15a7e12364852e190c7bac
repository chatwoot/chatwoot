{"version":3,"file":"module.js","sources":["../index.js"],"sourcesContent":["const clickEventType = () => {\n  return document.ontouchstart !== null ? \"click\" : \"touchstart\";\n};\n\nconst UNIQUE_ID = \"__vue_click_away__\";\n\nconst onMounted = (el, binding, vnode) => {\n  onUnmounted(el);\n\n  let vm = vnode.context;\n  let callback = binding.value;\n\n  let nextTick = false;\n  setTimeout(function () {\n    nextTick = true;\n  }, 0);\n\n  el[UNIQUE_ID] = (event) => {\n    if (\n      (!el || !el.contains(event.target)) &&\n      callback &&\n      nextTick &&\n      typeof callback === \"function\"\n    ) {\n      return callback.call(vm, event);\n    }\n  };\n\n  document.addEventListener(clickEventType(), el[UNIQUE_ID], false);\n};\n\nconst onUnmounted = (el) => {\n  document.removeEventListener(clickEventType(), el[UNIQUE_ID], false);\n  delete el[UNIQUE_ID];\n};\n\nconst onUpdated = (el, binding, vnode) => {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n  onMounted(el, binding, vnode);\n};\n\nconst plugin = {\n  install: (app) => {\n    app.directive('click-away', directive)\n  }\n}\n\nconst directive = {\n  mounted: onMounted,\n  updated: onUpdated,\n  unmounted: onUnmounted,\n};\n\nconst mixin = {\n  directives: { ClickAway: directive },\n};\n\nexport {\n  directive,\n  mixin\n}\n\nexport default plugin;\n"],"names":["clickEventType","document","ontouchstart","UNIQUE_ID","onMounted","el","binding","vnode","onUnmounted","vm","context","callback","value","nextTick","setTimeout","event","contains","target","call","addEventListener","removeEventListener","onUpdated","oldValue","plugin","install","app","directive","mounted","updated","unmounted","mixin","directives","ClickAway"],"mappings":"AAAA,MAAMA,cAAc,GAAG,YAAM;AAC3B,SAAOC,QAAQ,CAACC,YAAT,KAA0B,IAA1B,GAAiC,OAAjC,GAA2C,YAAlD;AACD,CAFD;;AAIA,MAAMC,SAAS,GAAG,oBAAlB;;AAEA,MAAMC,SAAS,GAAG,UAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;AACxCC,EAAAA,WAAW,CAACH,EAAD,CAAX;AAEA,MAAII,EAAE,GAAGF,KAAK,CAACG,OAAf;AACA,MAAIC,QAAQ,GAAGL,OAAO,CAACM,KAAvB;AAEA,MAAIC,QAAQ,GAAG,KAAf;AACAC,EAAAA,UAAU,CAAC,YAAY;AACrBD,IAAAA,QAAQ,GAAG,IAAX;AACD,GAFS,EAEP,CAFO,CAAV;;AAIAR,EAAAA,EAAE,CAACF,SAAD,CAAF,GAAgB,UAACY,KAAD,EAAW;AACzB,QACE,CAAC,CAACV,EAAD,IAAO,CAACA,EAAE,CAACW,QAAH,CAAYD,KAAK,CAACE,MAAlB,CAAT,KACAN,QADA,IAEAE,QAFA,IAGA,OAAOF,QAAP,KAAoB,UAJtB,EAKE;AACA,aAAOA,QAAQ,CAACO,IAAT,CAAcT,EAAd,EAAkBM,KAAlB,CAAP;AACD;AACF,GATD;;AAWAd,EAAAA,QAAQ,CAACkB,gBAAT,CAA0BnB,cAAc,EAAxC,EAA4CK,EAAE,CAACF,SAAD,CAA9C,EAA2D,KAA3D;AACD,CAvBD;;AAyBA,MAAMK,WAAW,GAAG,UAACH,EAAD,EAAQ;AAC1BJ,EAAAA,QAAQ,CAACmB,mBAAT,CAA6BpB,cAAc,EAA3C,EAA+CK,EAAE,CAACF,SAAD,CAAjD,EAA8D,KAA9D;AACA,SAAOE,EAAE,CAACF,SAAD,CAAT;AACD,CAHD;;AAKA,MAAMkB,SAAS,GAAG,UAAChB,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;AACxC,MAAID,OAAO,CAACM,KAAR,KAAkBN,OAAO,CAACgB,QAA9B,EAAwC;AACtC;AACD;;AACDlB,EAAAA,SAAS,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAT;AACD,CALD;;MAOMgB,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,UAACC,GAAD,EAAS;AAChBA,IAAAA,GAAG,CAACC,SAAJ,CAAc,YAAd,EAA4BA,SAA5B;AACD;AAHY;MAMTA,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAEvB,SADO;AAEhBwB,EAAAA,OAAO,EAAEP,SAFO;AAGhBQ,EAAAA,SAAS,EAAErB;AAHK;MAMZsB,KAAK,GAAG;AACZC,EAAAA,UAAU,EAAE;AAAEC,IAAAA,SAAS,EAAEN;AAAb;AADA;;;;;"}