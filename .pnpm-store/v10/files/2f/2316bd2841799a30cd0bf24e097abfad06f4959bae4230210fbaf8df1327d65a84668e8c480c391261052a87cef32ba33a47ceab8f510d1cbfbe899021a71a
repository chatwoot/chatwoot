# @june/analytics-next

## 1.51.0

### Minor Changes

- [#788](https://github.com/segmentio/analytics-next/pull/788) [`6fbae8d`](https://github.com/segmentio/analytics-next/commit/6fbae8d547eff41d9d901bdbd0fdb8ff4dcf1002) Thanks [@silesky](https://github.com/silesky)! - Make keep-alive configurable and default to false

## 1.50.0

### Minor Changes

- [#774](https://github.com/segmentio/analytics-next/pull/774) [`69154c3`](https://github.com/segmentio/analytics-next/commit/69154c31f0739c3d1e31c3fd4d0f075fac721289) Thanks [@zikaari](https://github.com/zikaari)! - Add useQueryString option to InitOptions

* [#787](https://github.com/segmentio/analytics-next/pull/787) [`171cd15`](https://github.com/segmentio/analytics-next/commit/171cd15b4c32f4c0780c1e3d8d6d646bb17c6c36) Thanks [@silesky](https://github.com/silesky)! - Add keep-alive header to fetch for standard transport.

### Patch Changes

- Updated dependencies [[`69154c3`](https://github.com/segmentio/analytics-next/commit/69154c31f0739c3d1e31c3fd4d0f075fac721289)]:
  - @segment/analytics-core@1.2.2

## 1.49.2

### Patch Changes

- [#764](https://github.com/segmentio/analytics-next/pull/764) [`43897d6`](https://github.com/segmentio/analytics-next/commit/43897d6ffc5f6c7be6a9dec569997348b8c93e51) Thanks [@zikaari](https://github.com/zikaari)! - Add comprehensive message lifecycle events

* [#758](https://github.com/segmentio/analytics-next/pull/758) [`ef47e9e`](https://github.com/segmentio/analytics-next/commit/ef47e9e469390062b44790b6f92bb976708fab71) Thanks [@zikaari](https://github.com/zikaari)! - Remove direct wirings for Segment Inspector

* Updated dependencies [[`43897d6`](https://github.com/segmentio/analytics-next/commit/43897d6ffc5f6c7be6a9dec569997348b8c93e51)]:
  - @segment/analytics-core@1.2.1

## 1.49.1

### Patch Changes

- [#749](https://github.com/segmentio/analytics-next/pull/749) [`86b9857`](https://github.com/segmentio/analytics-next/commit/86b98572a24bfc7c8b6feea8a6feef1bdbe9202a) Thanks [@silesky](https://github.com/silesky)! - Fix internal lib error by removing path alias.

## 1.49.0

### Minor Changes

- [#738](https://github.com/segmentio/analytics-next/pull/738) [`fed489c`](https://github.com/segmentio/analytics-next/commit/fed489cbf2e5b4c0f8423453e24831ec5dcdd7ce) Thanks [@silesky](https://github.com/silesky)! - Make trait fields nullable. Type traits for group() differently than identify() call.

* [#722](https://github.com/segmentio/analytics-next/pull/722) [`61688e2`](https://github.com/segmentio/analytics-next/commit/61688e251ad2f60dae4cfd65cf59401c29ec66bd) Thanks [@silesky](https://github.com/silesky)! - Improve core interfaces. Refactor analytics-next to use shared EventQueue, dispatch, and other methods.
  Augment Browser interface with traits and context options type.

### Patch Changes

- [#730](https://github.com/segmentio/analytics-next/pull/730) [`a392bf9`](https://github.com/segmentio/analytics-next/commit/a392bf9ef60cf4a6e6edef0b7c038e993b18b1bd) Thanks [@pooyaj](https://github.com/pooyaj)! - Adding jsdocs for universal storage

* [#743](https://github.com/segmentio/analytics-next/pull/743) [`88c91c8`](https://github.com/segmentio/analytics-next/commit/88c91c8cd56730253b8ac055437823721e450a42) Thanks [@silesky](https://github.com/silesky)! - Remove remote metrics from context and move to stats

- [#742](https://github.com/segmentio/analytics-next/pull/742) [`e29a21a`](https://github.com/segmentio/analytics-next/commit/e29a21adafb44a8810c7534ecde96f03eab0b246) Thanks [@silesky](https://github.com/silesky)! - Fix webdriver.io interception bug. Refactor to use native fetch where unfetch is unavailable.

- Updated dependencies [[`fed489c`](https://github.com/segmentio/analytics-next/commit/fed489cbf2e5b4c0f8423453e24831ec5dcdd7ce), [`61688e2`](https://github.com/segmentio/analytics-next/commit/61688e251ad2f60dae4cfd65cf59401c29ec66bd)]:
  - @segment/analytics-core@1.2.0

## 1.48.0

### Minor Changes

- [#638](https://github.com/segmentio/analytics-next/pull/638) [`e16017d`](https://github.com/segmentio/analytics-next/commit/e16017d4a99a891efebfd87a9f55c03815557a4e) Thanks [@pooyaj](https://github.com/pooyaj)! - Creating universal storage layer and passing it to plugins

### Patch Changes

- [#714](https://github.com/segmentio/analytics-next/pull/714) [`9fc8f43`](https://github.com/segmentio/analytics-next/commit/9fc8f43a77ef3bdcce3e7ef7287c47bd595bca7b) Thanks [@chrisradek](https://github.com/chrisradek)! - Improves Segment.io retries to include exponential backoff and work across page loads.

* [#718](https://github.com/segmentio/analytics-next/pull/718) [`80e0d0a`](https://github.com/segmentio/analytics-next/commit/80e0d0a7d074422654cbebe0c3edb90e1d42ad62) Thanks [@silesky](https://github.com/silesky)! - Refactor inspector to use emitter

- [#713](https://github.com/segmentio/analytics-next/pull/713) [`0d70637`](https://github.com/segmentio/analytics-next/commit/0d7063725cce56e1484bc63a405cecfed847098f) Thanks [@silesky](https://github.com/silesky)! - add logic if plan.integrations is falsy

* [#721](https://github.com/segmentio/analytics-next/pull/721) [`779e66b`](https://github.com/segmentio/analytics-next/commit/779e66b1d5b64af3a632adc0da7642bbdd943d8b) Thanks [@pooyaj](https://github.com/pooyaj)! - Expose universal storage directly on analytics object

* Updated dependencies [[`80e0d0a`](https://github.com/segmentio/analytics-next/commit/80e0d0a7d074422654cbebe0c3edb90e1d42ad62)]:
  - @segment/analytics-core@1.1.6

## 1.47.1

### Patch Changes

- [#710](https://github.com/segmentio/analytics-next/pull/710) [`ef5cd39`](https://github.com/segmentio/analytics-next/commit/ef5cd39ce3a83321f7bf7792c2e68d40ce2be1c6) Thanks [@chrisradek](https://github.com/chrisradek)! - Fixes an issue impacting a small number of destinations where explicitly enabling or disabling an integration on load would not work as expected.

- Updated dependencies [[`90b915a`](https://github.com/segmentio/analytics-next/commit/90b915ac3447d76673e98661c54bf5a0ced2a555), [`108c77e`](https://github.com/segmentio/analytics-next/commit/108c77e81a4e9d2a64eb56e78f707ae6c2ea6ed2)]:
  - @segment/analytics-core@1.1.5

## 1.47.0

### Minor Changes

- [#704](https://github.com/segmentio/analytics-next/pull/704) [`6e42f6e`](https://github.com/segmentio/analytics-next/commit/6e42f6ebdcf05e6c23fc4cacf5634cf6109b785c) Thanks [@pooyaj](https://github.com/pooyaj)! - Emit a `reset` event when analytics.reset() is called

* [#669](https://github.com/segmentio/analytics-next/pull/669) [`b6ae65b`](https://github.com/segmentio/analytics-next/commit/b6ae65b56e2a3ec0e13de79f8d3acf25b7c223d2) Thanks [@zikaari](https://github.com/zikaari)! - Allow use of integrations directly from NPM

### Patch Changes

- Updated dependencies [[`ecb4b8d`](https://github.com/segmentio/analytics-next/commit/ecb4b8db0194e06a3ee3c8cae57d4f327d15dc02)]:
  - @segment/analytics-core@1.1.4

## 1.46.4

### Patch Changes

- Updated dependencies [[`0b9f4d7`](https://github.com/segmentio/analytics-next/commit/0b9f4d7e82662f7d5fda3590e93b10b3fd2e9833)]:
  - @segment/analytics-core@1.1.3

## 1.46.3

### Patch Changes

- [#688](https://github.com/segmentio/analytics-next/pull/688) [`c21734e`](https://github.com/segmentio/analytics-next/commit/c21734eae8fa3ceaaad3d11dd9684a37ce26a19e) Thanks [@arielsilvestri](https://github.com/arielsilvestri)! - Fixes issue where options object would not be properly assigned if properties arg was explicitly undefined

## 1.46.2

### Patch Changes

- [#666](https://github.com/segmentio/analytics-next/pull/666) [`5269a3e`](https://github.com/segmentio/analytics-next/commit/5269a3ea74d7bff7bf143e06a5f857af40f14032) Thanks [@ryder-wendt](https://github.com/ryder-wendt)! - Do not throw errors if localStorage becomes unavailable

## 1.46.1

### Patch Changes

- Updated dependencies [[`98d1b12`](https://github.com/segmentio/analytics-next/commit/98d1b127082f5fc7904980a561220c64c26edff3)]:
  - @segment/analytics-core@1.1.2

## 1.46.0

### Minor Changes

- [#655](https://github.com/segmentio/analytics-next/pull/655) [`5e3f077`](https://github.com/segmentio/analytics-next/commit/5e3f077b93083ca6a3a7ad0fcd56f5fc87f6af8e) Thanks [@silesky](https://github.com/silesky)! - Fix analytics reset clears anonymous ID bug

- [#637](https://github.com/segmentio/analytics-next/pull/637) [`b335096`](https://github.com/segmentio/analytics-next/commit/b3350968a5437f5c824315aaa15602d648c1ac4e) Thanks [@silesky](https://github.com/silesky)! - Add ability to delay initialization

* [#635](https://github.com/segmentio/analytics-next/pull/635) [`222d4ec`](https://github.com/segmentio/analytics-next/commit/222d4ecd4db7376839aa816b4b8923cae4f1487c) Thanks [@chrisradek](https://github.com/chrisradek)! - Adds a new load option `disableAutoISOConversions` that turns off converting ISO strings in event fields to Dates for integrations.

### Patch Changes

- [#641](https://github.com/segmentio/analytics-next/pull/641) [`3d31bd0`](https://github.com/segmentio/analytics-next/commit/3d31bd09ea2029a9e5413aebe55698bbf4fbf7c9) Thanks [@silesky](https://github.com/silesky)! - Update tsub dependency

- Updated dependencies [[`409cae4`](https://github.com/segmentio/analytics-next/commit/409cae4b9ac404277aa44bab7428186129b42a35)]:
  - @segment/analytics-core@1.1.1

## 1.45.0

### Minor Changes

- [#616](https://github.com/segmentio/analytics-next/pull/616) [`1d6c22d`](https://github.com/segmentio/analytics-next/commit/1d6c22d7565b59ae553de674276ecd0c9aeddfbe) Thanks [@zikaari](https://github.com/zikaari)! - Bundled analytics support in Inspector

### Patch Changes

- [#619](https://github.com/segmentio/analytics-next/pull/619) [`6c35799`](https://github.com/segmentio/analytics-next/commit/6c3579999d8696b3ebd0ff5c52493a73ca11cdec) Thanks [@silesky](https://github.com/silesky)! - Do not expose jquery / zepto as ambient globals. Add dom.iterable lib to typescript.

* [#629](https://github.com/segmentio/analytics-next/pull/629) [`21f05ad`](https://github.com/segmentio/analytics-next/commit/21f05adfd641825abecd096b354bd1ebc17f063b) Thanks [@danieljackins](https://github.com/danieljackins)! - Fix bug where destination middleware were applying to other plugin types

## 1.44.0

### Minor Changes

- [#597](https://github.com/segmentio/analytics-next/pull/597) [`18dc5b0`](https://github.com/segmentio/analytics-next/commit/18dc5b07431276a9b2ff3bdff28da0f3ee1e4fa8) Thanks [@danieljackins](https://github.com/danieljackins)! - Added destination filter support to action destinations

## 1.43.2

### Patch Changes

- [#621](https://github.com/segmentio/analytics-next/pull/621) [`5026ee1`](https://github.com/segmentio/analytics-next/commit/5026ee1e69a16e4597bd9c95d57158f831e9b983) Thanks [@silesky](https://github.com/silesky)! - Fix ambient import conflict bug

## 1.43.1

### Patch Changes

- [#615](https://github.com/segmentio/analytics-next/pull/615) [`6d51d38`](https://github.com/segmentio/analytics-next/commit/6d51d3839d7df8b5241b824fe9c0761d4c18dcf2) Thanks [@silesky](https://github.com/silesky)! - Add the load function type to AnalyticsSnippet

* [#611](https://github.com/segmentio/analytics-next/pull/611) [`29c3bd7`](https://github.com/segmentio/analytics-next/commit/29c3bd7602bed1871b1a0048531ddffd47ce5710) Thanks [@chrisradek](https://github.com/chrisradek)! - Fixes analytics.reset() so that it clears group data.

- [#613](https://github.com/segmentio/analytics-next/pull/613) [`503bea2`](https://github.com/segmentio/analytics-next/commit/503bea221643dbd317376c28c7ce60c688329756) Thanks [@silesky](https://github.com/silesky)! - fix change detection bug and add ability to detect tab focus loss events

- Updated dependencies [[`4644afc`](https://github.com/segmentio/analytics-next/commit/4644afc5be2dac90465e16a485ef5c34ff694da3), [`598fc31`](https://github.com/segmentio/analytics-next/commit/598fc318a457ac6e5b04d04406f8d836d83763a4), [`ce90543`](https://github.com/segmentio/analytics-next/commit/ce905439355c1cbd306535600bf356710be147de), [`7b5d3df`](https://github.com/segmentio/analytics-next/commit/7b5d3df8d7d8e479d1dda4557297baedb3cdcf6f)]:
  - @segment/analytics-core@1.1.0

## 1.43.0

### Minor Changes

- [#573](https://github.com/segmentio/analytics-next/pull/573) [`6203c20`](https://github.com/segmentio/analytics-next/commit/6203c20cd0673f55a29c546440e0c02f6998df5a) Thanks [@arielsilvestri](https://github.com/arielsilvestri)! - Enhances console error logging when requests to settings api fail

### Patch Changes

- [#582](https://github.com/segmentio/analytics-next/pull/582) [`ebafece`](https://github.com/segmentio/analytics-next/commit/ebafeceb5e3b2c6cfe3d29313a443615093170a2) Thanks [@chrisradek](https://github.com/chrisradek)! - Updates error message when sending metrics fails to indicate that metrics failed to send.

## 1.42.3

### Patch Changes

- [#577](https://github.com/segmentio/analytics-next/pull/577) [`8d48bdc`](https://github.com/segmentio/analytics-next/commit/8d48bdc106a15d6368de215e11712470596e1df7) Thanks [@chrisradek](https://github.com/chrisradek)! - Fixes an issue where the 'secure' cookie setting was not being applied correctly when specified.

* [#579](https://github.com/segmentio/analytics-next/pull/579) [`98504e2`](https://github.com/segmentio/analytics-next/commit/98504e2f5514030d782e06df0562ea25f4f01c34) Thanks [@silesky](https://github.com/silesky)! - Fix SegmentEvent and EventProperties and add tests

## 1.42.2

### Patch Changes

- [#578](https://github.com/segmentio/analytics-next/pull/578) [`ab8cea3`](https://github.com/segmentio/analytics-next/commit/ab8cea3a210a161fcb7c27e07d41edcb78fa4c3f) Thanks [@silesky](https://github.com/silesky)! - Loosen SegmentEvent and Traits typescript interface (Fixes [#570](https://github.com/segmentio/analytics-next/issues/570), [#575](https://github.com/segmentio/analytics-next/issues/575)).

## 1.42.1

### Patch Changes

- [#567](https://github.com/segmentio/analytics-next/pull/567) [`5cd9358`](https://github.com/segmentio/analytics-next/commit/5cd9358d0a8ae9711eea22ae719e9f7363581798) Thanks [@silesky](https://github.com/silesky)! - Do not allow the "user" method to change its return types over its lifecycle. We should always return a promise for wrapped methods in AnalyticsBrowser, regardless if the underlying Analytics method is sync or async.

## 1.42.0

### Minor Changes

- [#561](https://github.com/segmentio/analytics-next/pull/561) [`1af2a9f`](https://github.com/segmentio/analytics-next/commit/1af2a9fa13596464d152bcecac19df110cd074bc) Thanks [@silesky](https://github.com/silesky)! - Add 'screen', 'register', 'deregister', 'user' method and 'VERSION' property on AnalyticsBrowser. Allow buffering of 'screen', 'register', 'deregister' methods for snippet users.

### Patch Changes

- Updated dependencies [[`93c8f1f`](https://github.com/segmentio/analytics-next/commit/93c8f1f7dabe6fca5bd0f8f9f0cc0c0e14cd2128)]:
  - @segment/analytics-core@1.0.1

## 1.41.1

### Patch Changes

- [#552](https://github.com/segmentio/analytics-next/pull/552) [`6741775`](https://github.com/segmentio/analytics-next/commit/6741775be068e08eccd84024211b89181094d5b7) Thanks [@zikaari](https://github.com/zikaari)! - Suspend event deliveries until middlewares are ready

## 1.41.0

### Minor Changes

- [#541](https://github.com/segmentio/analytics-next/pull/541) [`2e0a91c`](https://github.com/segmentio/analytics-next/commit/2e0a91c6989aa87f09c9590c5017806023664119) Thanks [@silesky](https://github.com/silesky)! - Export AnalyticsSnippet type and add directions (for snippet users).

### Patch Changes

- [#549](https://github.com/segmentio/analytics-next/pull/549) [`3413701`](https://github.com/segmentio/analytics-next/commit/34137016239e90deb8ba790a44664534aa7614b9) Thanks [@zikaari](https://github.com/zikaari)! - Simplify interfacing with Inspector

## 1.40.0

### Minor Changes

- [#413](https://github.com/segmentio/analytics-next/pull/413) [`44cc464`](https://github.com/segmentio/analytics-next/commit/44cc464eea0c2ca9ea66bd9221a5ba86c1fcd86e) Thanks [@zikaari](https://github.com/zikaari)! - Add support for Segment Inspector Chrome extension

* [#505](https://github.com/segmentio/analytics-next/pull/505) [`b9c6356`](https://github.com/segmentio/analytics-next/commit/b9c6356b7d35ee8acb6ecbd1eebc468d18d63958) Thanks [@chrisradek](https://github.com/chrisradek)! - Adds `context.failedDelivery()` to improve detection of events that could not be delivered due to plugin errors.

### Patch Changes

- [#526](https://github.com/segmentio/analytics-next/pull/526) [`908f47d`](https://github.com/segmentio/analytics-next/commit/908f47d187c8dd45c4cff79c0f06800173ab7cb0) Thanks [@silesky](https://github.com/silesky)! - Updated dev instructions in README

## 1.39.2

### Patch Changes

- [#513](https://github.com/segmentio/analytics-next/pull/513) [`1d36ca1`](https://github.com/segmentio/analytics-next/commit/1d36ca1440fc5df9171d16278d8918b3e5a32128) Thanks [@silesky](https://github.com/silesky)! - test
