import{d as x,r as T,o as u,c as $,w as F,a as d,b as B,n as k,e as V,m as ht,f as v,g as h,h as y,u as c,I,t as N,i as Y,j as pt,k as ft,l as wt,p as _,q as L,F as A,s as Q,v as R,x as vt,y as mt,z as J,A as yt,B as gt,C as U,D as _t,E as bt,G as xt,H as St,J as kt,K as $t,L as Lt}from"./vendor.70a554f6.js";import{_ as K,i as Z,h as C,c as X,t as G,f as Ct,m as It,a as At,r as Pt}from"./global-components.84d0ab22.js";var D=(t,r)=>{const e=t.__vccOpts||t;for(const[s,o]of r)e[s]=o;return e};const tt=x({inheritAttrs:!1,props:{isActive:{type:Boolean,default:void 0}},emits:{navigate:()=>!0},setup(t,{emit:r}){function e(s,o){r("navigate"),o(s)}return{handleNavigate:e}}}),Et=["href","onClick","onKeyup"];function Ft(t,r,e,s,o,n){const p=T("RouterLink");return u(),$(p,ht(t.$attrs,{custom:""}),{default:F(({isActive:f,href:i,navigate:a})=>[d("a",{href:i,class:k(["htw-flex htw-items-center htw-gap-2",[t.$attrs.class,(t.isActive!=null?t.isActive:f)?"active htw-bg-primary-500 hover:htw-bg-primary-600 htw-text-white dark:htw-text-black":"hover:htw-bg-primary-100 dark:hover:htw-bg-primary-900"]]),onClick:l=>t.handleNavigate(l,a),onKeyup:[V(l=>t.handleNavigate(l,a),["enter"]),V(l=>t.handleNavigate(l,a),["space"])]},[B(t.$slots,"default",{active:t.isActive!=null?t.isActive:f})],42,Et)]),_:3},16)}tt.__file="../histoire/dist/client/app/components/base/BaseListItemLink.vue";var Vt=D(tt,[["render",Ft]]);const Dt={class:"bind-tree-margin htw-flex htw-items-center htw-gap-2 htw-pl-5 htw-min-w-0"},Ot={class:"htw-truncate"},Bt={class:"htw-opacity-40 htw-text-sm"},et=x({props:{story:null,depth:{default:0}},setup(t){const r=t;Y(s=>({bbccfe1c:c(e),"61f8842e":t.story.iconColor}));const e=v(()=>r.depth*16+"px");return(s,o)=>(u(),h("div",null,[y(Vt,{to:{name:"story",params:{storyId:t.story.id}},class:"htw-pl-0.5 htw-pr-2 htw-py-1.5 htw-m-1 htw-rounded-sm"},{default:F(({active:n})=>{var p;return[d("span",Dt,[y(c(I),{icon:(p=t.story.icon)!=null?p:"carbon:cube",class:k(["base-list-item-link-icon htw-w-5 htw-h-5 htw-flex-none",{"htw-text-primary-500":!n&&!t.story.iconColor,"bind-icon-color":!n&&t.story.iconColor}])},null,8,["icon","class"]),d("span",Ot,N(t.story.title),1)]),d("span",Bt,N(t.story.variants.length),1)]}),_:1},8,["to"])]))}});et.__file="../histoire/dist/client/app/components/StoryListItem.vue";var rt=D(et,[["__scopeId","data-v-118bc4a3"]]);const z=pt({history:ft(),routes:[{path:"/",name:"home",component:()=>K(()=>import("./HomeView.f524bd4b.js"),["assets/HomeView.f524bd4b.js","assets/global-components.84d0ab22.js","assets/vendor.70a554f6.js"])},{path:"/story/:storyId",name:"story",component:()=>K(()=>import("./StoryView.e4c41518.js"),["assets/StoryView.e4c41518.js","assets/vendor.70a554f6.js","assets/BaseEmpty.a84c14c8.js","assets/preview-settings.a634d101.js","assets/global-components.84d0ab22.js"])}]}),st=wt("story",()=>{const t=_([]);function r(a){t.value=a}const e=v(()=>t.value.find(a=>a.id===z.currentRoute.value.params.storyId)),s=v(()=>{var a;return(a=e.value)==null?void 0:a.variants.find(l=>l.id===z.currentRoute.value.query.variantId)}),o=_(new Map);function n(a){return a.join("\u241C")}function p(a,l){const g=n(a);l===void 0&&(l=!o.value.get(g)),l?o.value.set(g,!0):o.value.delete(g)}function f(a){return o.value.get(n(a))}function i(a){for(let l=1;l<a.length;l++)p(a.slice(0,l),!0)}return L(e,()=>{i(e.value.file.path)}),{stories:t,setStories:r,currentStory:e,currentVariant:s,isFolderOpened:f,toggleFolder:p}});const Nt={class:"toast"},Rt=["onKeyup"],Kt={class:"bind-tree-padding htw-flex htw-items-center htw-gap-2 htw-min-w-0"},zt={class:"htw-flex htw-gap-1 htw-flex-none htw-items-center"},Mt={class:"htw-truncate"},Tt={key:0},ot=x({props:{path:{default:()=>[]},folder:null,stories:null,depth:{default:0}},setup(t){const r=t;Y(f=>({"83b20f68":c(p)}));const e=st(),s=v(()=>[...r.path,r.folder.title]),o=v(()=>e.isFolderOpened(s.value));function n(){e.toggleFolder(s.value)}const p=v(()=>r.depth*16+"px");return(f,i)=>{const a=T("StoryListFolder",!0);return u(),h("div",Nt,[d("div",{role:"button",tabindex:"0",class:"htw-px-0.5 htw-py-1.5 htw-m-1 htw-rounded-sm hover:htw-bg-primary-100 dark:hover:htw-bg-primary-900 htw-cursor-pointer htw-select-none htw-flex",onClick:n,onKeyup:[V(n,["enter"]),V(n,["space"])]},[d("span",Kt,[d("span",zt,[y(c(I),{icon:"carbon:caret-right",class:k(["htw-w-4 htw-h-4 htw-transition-transform htw-duration-150 htw-opacity-30",{"htw-rotate-90":c(o)}])},null,8,["class"]),y(c(I),{icon:"carbon:folder",class:"htw-w-5 htw-h-5"})]),d("span",Mt,N(t.folder.title),1)])],40,Rt),c(o)?(u(),h("div",Tt,[(u(!0),h(A,null,Q(t.folder.children,l=>(u(),h(A,{key:l.title},[l.children?(u(),$(a,{key:0,path:c(s),folder:l,stories:t.stories,depth:t.depth+1},null,8,["path","folder","stories","depth"])):(u(),$(rt,{key:1,story:t.stories[l.index],depth:t.depth+1},null,8,["story","depth"]))],64))),128))])):R("v-if",!0)])}}});ot.__file="../histoire/dist/client/app/components/StoryListFolder.vue";var Ht=D(ot,[["__scopeId","data-v-007b162c"]]);const jt={class:"htw-overflow-y-auto"},nt=x({props:{tree:null,stories:null},setup(t){return(r,e)=>(u(),h("div",jt,[(u(!0),h(A,null,Q(t.tree,s=>(u(),h(A,{key:s.title},[s.children?(u(),$(Ht,{key:0,folder:s,stories:t.stories},null,8,["folder","stories"])):(u(),$(rt,{key:1,story:t.stories[s.index]},null,8,["story"]))],64))),128))]))}});nt.__file="../histoire/dist/client/app/components/StoryList.vue";const qt=["onMousedown"],at=x({props:{orientation:{type:String,default:"landscape",validator:t=>["landscape","portrait"].includes(t)},defaultSplit:{type:Number,default:50},split:{type:Number,default:void 0},min:{type:Number,default:20},max:{type:Number,default:80},draggerOffset:{type:String,default:"center",validator:t=>["before","center","after"].includes(t)},saveId:{type:String,default:null},fixed:{type:Boolean,default:!1}},emits:{"update:split":t=>!0},setup(t,{emit:r}){const e=t,s="__histoire",o=_(e.defaultSplit);if(L(()=>e.split,w=>{w!==void 0&&(o.value=w)},{immediate:!0}),e.saveId){const w=`${s}-split-pane-${e.saveId}`,S=localStorage.getItem(w);if(S!=null){let m;try{m=JSON.parse(S)}catch(E){console.error(E)}typeof m=="number"&&(o.value=m)}L(o,m=>{localStorage.setItem(w,JSON.stringify(m))}),L(o,m=>{m!==e.split&&r("update:split",m)},{immediate:!0})}const n=v(()=>o.value<e.min?e.min:o.value>e.max?e.max:o.value),p=v(()=>({[e.orientation==="landscape"?"width":"height"]:e.fixed?`${n.value}px`:`${n.value}%`})),f=v(()=>({[e.orientation==="landscape"?"width":"height"]:e.fixed?null:`${100-n.value}%`})),i=_(!1);let a=0,l=0;const g=_(null);function dt(w){i.value=!0,a=e.orientation==="landscape"?w.pageX:w.pageY,l=n.value,window.addEventListener("mousemove",H),window.addEventListener("mouseup",j)}function H(w){if(i.value){let S,m;e.orientation==="landscape"?(S=w.pageX,m=g.value.offsetWidth):(S=w.pageY,m=g.value.offsetHeight);const E=S-a;e.fixed?o.value=l+E:o.value=l+~~(E/m*200)/2}}function j(){i.value=!1,q()}function q(){window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",j)}return vt(()=>{q()}),(w,S)=>(u(),h("div",{ref_key:"el",ref:g,class:k(["htw-flex htw-h-full htw-isolate htw-overflow-auto",{"htw-flex-col":t.orientation==="portrait","htw-cursor-ew-resize":i.value&&t.orientation==="landscape","htw-cursor-ns-resize":i.value&&t.orientation==="portrait",[t.orientation]:!0}])},[d("div",{class:k(["htw-relative htw-top-0 htw-left-0 htw-z-20",{"htw-pointer-events-none":i.value,"htw-border-r htw-border-gray-200 dark:htw-border-gray-850":t.orientation==="landscape","htw-flex-none":t.fixed}]),style:J(c(p))},[B(w.$slots,"first",{},void 0,!0),d("div",{class:k(["dragger htw-absolute htw-z-100 hover:htw-bg-primary-500/50 htw-transition-colors htw-duration-150 htw-delay-150",{"htw-top-0 htw-bottom-0 htw-cursor-ew-resize":t.orientation==="landscape","htw-left-0 htw-right-0 htw-cursor-ns-resize":t.orientation==="portrait",[`dragger-offset-${t.draggerOffset}`]:!0,"htw-bg-primary-500/25":i.value}]),onMousedown:mt(dt,["prevent"])},null,42,qt)],6),d("div",{class:k(["htw-relative htw-bottom-0 htw-right-0",{"htw-pointer-events-none":i.value,"htw-border-t htw-border-gray-200 dark:htw-border-gray-850":t.orientation==="portrait","htw-flex-1":t.fixed}]),style:J(c(f))},[B(w.$slots,"last",{},void 0,!0)],6)],2))}});at.__file="../histoire/dist/client/app/components/base/BaseSplitPane.vue";var Jt=D(at,[["__scopeId","data-v-01f039f2"]]),Ut="/assets/histoire-text-dark.a529813a.svg",Xt="/assets/histoire-text.1d4474b5.svg";const Gt=["src","alt"],it=x({setup(t){const r=v(()=>{var s,o;return Z.value?((s=C.theme.logo)==null?void 0:s.dark)?X.dark:Ut:((o=C.theme.logo)==null?void 0:o.light)?X.light:Xt}),e=v(()=>C.theme.title+" logo");return(s,o)=>(u(),h("img",{src:c(r),alt:c(e)},null,8,Gt))}});it.__file="../histoire/dist/client/app/components/app/AppLogo.vue";const M=navigator.platform.toLowerCase().includes("mac");function lt(t,r,e={}){var s;yt((s=e.event)!=null?s:"keydown",o=>{Wt(gt(t)?t.value:t)&&r(o)})}const b={ctrl:{key:"Control",pressed:!1},alt:{key:"Alt",pressed:!1},shift:{key:"Shift",pressed:!1},meta:{key:"Meta",pressed:!1}},O=new Set;window.addEventListener("keydown",t=>{for(const r in b){const e=b[r];if(e.key===t.key){e.pressed=!0;return}}O.add(t.key.toLocaleLowerCase())});window.addEventListener("keyup",t=>{requestAnimationFrame(()=>{O.clear();for(const r in b){const e=b[r];if(e.key===t.key){e.pressed=!1;break}}})});window.addEventListener("blur",()=>{O.clear();for(const t in b){const r=b[t];r.pressed=!1}});function Wt(t){for(const r of t)if(Yt(r.toLowerCase()))return!0;return!1}function Yt(t){const r=t.split("+").map(s=>s.trim()),e=r.pop();for(const s in b){const o=r.includes(s),n=b[s].pressed;if(o!==n)return!1}return O.has(e)}function Qt(t){return t=t.toLowerCase(),t==="ctrl"?M?"^":"Ctrl":t==="alt"?M?"\u2387":"Alt":t==="shift"?"\u21E7":t==="meta"?"\u2318":t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()}function W(t,r){return{content:`<div>${t}</div><div class="htw-flex htw-items-center htw-gap-1 htw-mt-2 htw-text-sm">${Zt(r({isMac:M}))}</div>`,html:!0}}function Zt(t){return t.split("+").map(r=>r.trim()).map(r=>`<span class="htw-bg-gray-500 htw-border-b-2 htw-border-gray-600 htw-px-1 htw-rounded-sm">${Qt(r)}</span>`).join("")}const te={class:"htw-px-4 htw-h-16 htw-flex htw-items-center htw-gap-2"},ee={class:"htw-py-4 htw-flex-1 htw-h-full htw-flex htw-items-center htw-pr-2"},re={class:"htw-ml-auto htw-flex-none htw-flex"},ct=x({emits:{search:()=>!0},setup(t){const r=v(()=>Z.value?"carbon:moon":"carbon:sun");return lt(["ctrl+shift+d","meta+shift+d"],e=>{G(),e.preventDefault()}),(e,s)=>{const o=_t("tooltip");return u(),h("div",te,[d("div",ee,[y(it,{class:"htw-max-w-full htw-max-h-full"})]),d("div",re,[U((u(),h("a",{class:"htw-p-1 hover:htw-text-primary-500 dark:hover:htw-text-primary-400 htw-cursor-pointer",onClick:s[0]||(s[0]=n=>e.$emit("search"))},[y(c(I),{icon:"carbon:search",class:"htw-w-5 htw-h-5"})])),[[o,c(W)("Search",({isMac:n})=>n?"meta+k":"ctrl+k")]]),U((u(),h("a",{class:"htw-p-1 hover:htw-text-primary-500 dark:hover:htw-text-primary-400 htw-cursor-pointer",onClick:s[1]||(s[1]=n=>c(G)())},[y(c(I),{icon:c(r),class:"htw-w-5 htw-h-5"},null,8,["icon"])])),[[o,c(W)("Toggle dark mode",({isMac:n})=>n?"meta+shift+d":"ctrl+shift+d")]])])])}}});ct.__file="../histoire/dist/client/app/components/app/AppHeader.vue";const se={key:0,class:"htw-hidden"},oe={class:"htw-h-screen dark:htw-bg-gray-700 dark:htw-text-gray-100"},ne={class:"htw-flex htw-flex-col htw-h-full htw-gap-2"},ut=x({setup(t){const r=bt(()=>K(()=>import("./SearchModal.76c035f2.js"),["assets/SearchModal.76c035f2.js","assets/vendor.70a554f6.js","assets/BaseEmpty.a84c14c8.js","assets/global-components.84d0ab22.js"])),e=_(Ct.map(i=>It(i))),s=_(At),o=v(()=>e.value.reduce((i,a)=>(i.push(a.story),i),[])),n=st();L(o,i=>{n.setStories(i)},{immediate:!0}),xt(v(()=>{if(n.currentStory){let i=n.currentStory.title;return n.currentVariant&&(i+=` \u203A ${n.currentVariant.title}`),`${i} | ${C.theme.title}`}return C.theme.title}));const p=_(!1),f=_(!1);return L(f,i=>{i&&(p.value=!0)}),lt(["ctrl+k","meta+k"],i=>{f.value=!0,i.preventDefault()}),(i,a)=>{const l=T("RouterView");return u(),h(A,null,[c(n).currentStory?(u(),h("div",se,[(u(),$(St(c(n).currentStory.file.component),{story:c(n).currentStory},null,8,["story"]))])):R("v-if",!0),d("div",oe,[y(Jt,{"save-id":"main-horiz",min:5,max:50,"default-split":15,class:"htw-h-full"},{first:F(()=>[d("div",ne,[y(ct,{class:"htw-flex-none",onSearch:a[0]||(a[0]=g=>f.value=!0)}),y(nt,{tree:s.value,stories:c(o),class:"htw-flex-1"},null,8,["tree","stories"])])]),last:F(()=>[y(l)]),_:1}),p.value?(u(),$(c(r),{key:0,shown:f.value,onClose:a[1]||(a[1]=g=>f.value=!1)},null,8,["shown"])):R("v-if",!0)])],64)}}});ut.__file="../histoire/dist/client/app/App.vue";const P=kt(ut);P.use($t());P.use(Lt,{overflowPadding:4,arrowPadding:8,themes:{tooltip:{distance:8},dropdown:{computeTransformOrigin:!0,distance:10}}});P.use(z);Pt(P);P.mount("#app");export{Vt as B,D as _,Jt as a,lt as o,st as u};
