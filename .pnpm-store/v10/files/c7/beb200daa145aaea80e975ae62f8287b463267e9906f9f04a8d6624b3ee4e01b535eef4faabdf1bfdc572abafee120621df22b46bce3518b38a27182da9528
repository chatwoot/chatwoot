import{S as f,p as y,J as v,f as l,q as u,T as i,K as h,U as w}from"./vendor.70a554f6.js";import{m as S,f as g,r as E,h as p,i as b}from"./global-components.84d0ab22.js";import{S as m,P as C,a as _,_ as T}from"./preview-settings.a634d101.js";const c=f(window.location.search),n=y(S(g.find(t=>t.id===c.storyId))),o=v({setup(){const t=l(()=>n.value.story),e=l(()=>{var a;return(a=t.value)==null?void 0:a.variants.find(s=>s.id===c.variantId)});let r=!1;return window.addEventListener("message",a=>{var s,d;((s=a.data)==null?void 0:s.type)===m?(r=!0,Object.assign(e.value.state,a.data.state)):((d=a.data)==null?void 0:d.type)===C&&_(a.data.settings)}),u(()=>e.value.state,a=>{var s;if(r){r=!1;return}(s=window.parent)==null||s.postMessage({type:m,state:w(a)})},{deep:!0}),{story:t,variant:e}},render(){return[i("div",{class:"htw-sandbox-hidden"},[i(n.value.component,{story:n.value.story})]),this.story&&this.variant?i(T,{story:this.story,variant:this.variant}):null]}});o.use(h());E(o);o.mount("#app");u(b,t=>{t?document.documentElement.classList.add(p.sandboxDarkClass):document.documentElement.classList.remove(p.sandboxDarkClass)},{immediate:!0});
