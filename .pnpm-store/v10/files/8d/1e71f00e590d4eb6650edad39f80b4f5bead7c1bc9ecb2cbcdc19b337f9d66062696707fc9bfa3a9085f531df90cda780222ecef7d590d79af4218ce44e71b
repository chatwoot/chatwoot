"use strict";var S=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var W=(e,t)=>{for(var r in t)S(e,r,{get:t[r],enumerable:!0})},R=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of C(t))!M.call(e,n)&&n!==r&&S(e,n,{get:()=>t[n],enumerable:!(i=x(t,n))||i.enumerable});return e};var j=e=>R(S({},"__esModule",{value:!0}),e);var F={};W(F,{picoSearch:()=>w});module.exports=j(F);function b(e,t){e.length<t.length&&([e,t]=[t,e]);let r=e.length,i=t.length;if(r===0||i===0)return 0;let n=Math.floor(r/2)-1,s=Array(i).fill(!1),u=Array(r).fill(""),h=0;for(let o=0;o<r;o++){let c=e[o];for(let a=0;a<i;a++){let T=t[a];if(a<=o+n&&a+n>=1&&c===T&&!s[a]){s[a]=!0,u[h++]=c;break}}}if(!h)return 0;let m=0;for(let o=0,c=0;c<i;c++)s[c]&&(t[c]!==u[o]&&m++,o++);let l=h,g=(l/r+l/i+(l-m/2)/l)/3,p=0,f=Math.min(4,i);for(let o=0;o<f;o++)e[o]===t[o]&&p++;return g+p*.1*(1-g)}function y(e,t){let r=0,i=0;if(t&&e.length!==t.length)throw new Error("The number of values must be equal to the number of weights");for(let n=0;n<e.length;n++){let s=t?t[n]:1;r+=e[n]*s,i+=s}return r/i}function A(e){return Math.max(0,Math.min(1,e))}function d(e){return e.split(/\s+/).filter((t,r,i)=>t&&i.indexOf(t)===r)}var I={CONTAINS_MATCH:1.2,FIRST_SIMILARITY:1.1,STARTS_WITH:1.05};function w(e,t,r,i){if(!t||typeof t!="string")return e;let n=[],s=i?.threshold??.8,u=t.trim().toLowerCase(),h=d(u);return e.forEach(m=>{let l=[],g=[];r.forEach(f=>{let o,c=1;typeof f=="string"?o=f:(o=f.name,c=f.weight),g.push(c);let a=m[o]?.trim().toLowerCase();if(a){let T=O(a,h);l.push(T)}else l.push(0)});let p=y(l,g);p>=s&&n.push({object:m,similarity:p})}),n.sort((m,l)=>l.similarity-m.similarity),n.map(m=>m.object)}function O(e,t){let r=d(e),i=t.map(n=>{let s=r.map(h=>_(h,n)),u=Math.max(...s);return u===s[0]?u*I.FIRST_SIMILARITY:A(u)});return y(i)}function _(e,t){let r=b(e,t);return e.includes(t)?r*I.CONTAINS_MATCH:r}0&&(module.exports={picoSearch});
//# sourceMappingURL=index.js.map