name: ğŸ”’ Validar Gemfile.lock

on:
  pull_request:
    branches:
      - develop
      - "feature/**"

jobs:
  validate:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: ğŸ”’ Validando Gemfile.lock
        run: |
          echo "ğŸ” Verificando Gemfile.lock..."

          if grep -q "darwin" Gemfile.lock; then
            echo "âŒ Gemfile.lock contaminado com plataforma macOS."
            exit 1
          fi

          if grep -q "bundle platform" Gemfile.lock; then
            echo "âŒ Gemfile.lock contÃ©m configuraÃ§Ãµes especÃ­ficas do host."
            exit 1
          fi

          echo "âœ… Gemfile.lock vÃ¡lido!"
