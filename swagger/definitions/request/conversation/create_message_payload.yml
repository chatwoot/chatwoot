type: object
required:
  - content
properties:
  content:
    type: string
    description: The content of the message
    example: 'Hello, how can I help you?'
  message_type:
    type: string
    enum: ['outgoing', 'incoming']
    description: The type of the message
    example: 'outgoing'
  private:
    type: boolean
    description: Flag to identify if it is a private note
    example: false
  content_type:
    type: string
    enum: ['text', 'input_email', 'cards', 'input_select', 'form', 'article']
    description: Content type of the message
    example: 'text'
  content_attributes:
    type: object
    description: Attributes based on the content type
    example: {}
  campaign_id:
    type: integer
    description: The campaign id to which the message belongs
    example: 1
  template_params:
    type: object
    description: The template params for the message in case of whatsapp Channel
    properties:
      name:
        type: string
        description: Name of the template
        example: 'sample_issue_resolution'
      category:
        type: string
        description: Category of the template
        example: UTILITY
      language:
        type: string
        description: Language of the template
        example: en_US
      processed_params:
        oneOf:
          - type: array
            description: Legacy format - simple array of parameter values
            items:
              type: string
            example: ['John Doe', '123 Main St', '2025-01-15']
          - type: object
            description: Enhanced format - structured component parameters
            properties:
              body:
                type: object
                description: Body component parameters (variable placeholders)
                additionalProperties:
                  type: string
                example:
                  '1': 'John Doe'
                  '2': '123 Main St'
              header:
                type: object
                description: Header component parameters (for media templates)
                properties:
                  media_url:
                    type: string
                    format: uri
                    description: URL for media content
                  media_type:
                    type: string
                    enum: ['image', 'video', 'document']
                    description: Type of media content
                example:
                  media_url: 'https://example.com/image.jpg'
                  media_type: 'image'
              buttons:
                type: array
                description: Button component parameters
                items:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: ['url', 'copy_code']
                      description: Button type
                    parameter:
                      type: string
                      description: Dynamic parameter value
                example:
                  - type: 'url'
                    parameter: 'tracking123'
                  - type: 'copy_code'
                    parameter: 'SAVE20'
          - type: object
            description: Legacy format - simple object with numeric keys
            additionalProperties:
              type: string
            example:
              '1': 'John Doe'
              '2': '123 Main St'
